<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Витрина моды - Интернет-магазин одежды</title>
    <link rel="stylesheet" href="main.css">
    <link rel="icon" href="img/icon.png">
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container header-container">
            <a href="#" class="logo" onclick="showMainPage()">
                <img src="img/logo%20%D0%B1%D0%B5%D0%BB%D1%8B%D0%B9.png" alt="Витрина моды">
            </a>
            <div class="nav-container">
                <ul class="nav-links">
                    <li><a href="#" onclick="showMainPage()">Главная</a></li>
                    <li class="dropdown">
                        <a href="#">Каталог</a>
                        <div class="dropdown-content">
                            <a href="#mens" onclick="filterCategory('mens')">Мужская</a>
                            <a href="#womens" onclick="filterCategory('womens')">Женская</a>
                            <a href="#kids" onclick="filterCategory('kids')">Детская</a>
                            <a href="#accessories" onclick="filterCategory('accessories')">Аксессуары</a>
                            <a href="#hats" onclick="filterCategory('hats')">Головные уборы</a>
                        </div>
                    </li>
                    <li><a href="#about" onclick="scrollToSection('about')">О нас</a></li>
                    <li><a href="#footer" onclick="scrollToSection('footer')">Контакты</a></li>
                </ul>
                <div class="admin-buttons" id="adminButtons" style="display: none;">
                    <a href="#" class="admin-button" onclick="showModal('transactionsModal')">Транзакции</a>
                    <a href="vk.html" class="admin-button">Посты</a>
                </div>
            </div>
            <div class="header-actions">
                <div class="search-container">
                    <input type="text" class="search-input" placeholder="Поиск товаров..." id="searchInput" autocomplete="off" name="search">
                    <div class="search-results" id="searchResults"></div>
                </div>
                
                <div class="auth-buttons" id="authButtons">
                    <a href="#" onclick="showModal('loginModal')">Войти</a>
                    <a href="#" onclick="showModal('registerModal')">Регистрация</a>
                </div>
                <div class="user-profile" id="userProfile" style="display: none;">
                    <div class="user-avatar" id="userAvatar">И</div>
                    <div class="user-name" id="userName">Иван</div>
                </div>
                <div class="wishlist-icon" id="wishlistIcon">
                    <a href="#" onclick="showModal('wishlistModal')" style="color: inherit; text-decoration: none;"><img src="img/избранное.svg" width="30px" alt="избранное"></a>
                    <span class="wishlist-count">0</span>
                </div>
                <div class="cart-icon" id="cartIcon">
                    <a href="#" onclick="showModal('cartModal')" style="color: inherit; text-decoration: none;"><img src="img/корзина.svg" width="30px" alt="корзина"></a>
                    <span class="cart-count">0</span>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Page Content -->
    <div id="mainPage">
        <!-- Hero Section -->
        <section class="hero">
            <div class="container">
                <h1>⠀⠀⠀⠀⠀⠀⠀<span⠀⠀⠀⠀⠀⠀⠀⠀⠀</span></h1>
                <p>⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀</p>
                <p>⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀</p>
            </div>
        </section>
        <!-- Products Section -->
        <section class="products" id="products">
            <div class="container">
                <h2 class="section-title">Наши товары</h2>
                
                <!-- Страница 1 -->
                <div class="product-page-container" id="page1">
                    <!-- Мужская одежда -->
                    <div class="category-section" id="mens">
                        <h3 class="category-title">Мужская одежда</h3>
                        <div class="product-grid">
                            <!-- Product 1 -->
                            <div class="product-card" data-category="mens" data-name="Футболка Puma мужская" data-id="1" onclick="showProductModal(1)">
                                <div class="product-image">
                                    <img src="https://static.street-beat.ru/upload/resize_cache/iblock/81e/666_666_1/28jujdmf0a8ua8bunfh9ax94npq8fewv.jpg" alt="Футболка Puma мужская">
                                </div>
                                <div class="product-info">
                                    <h3 class="product-title">Футболка Puma мужская</h3>
                                    <div class="product-price">
                                        <div class="price-container">
                                            <span class="current-price">3 599 ₽</span>
                                            <span class="old-price">3 999 ₽</span>
                                            <span class="discount-badge">-10%</span>
                                        </div>
                                    </div>
                                    <button class="add-to-cart" onclick="event.stopPropagation(); openSizeModal(1)">Доставка: <span class="delivery-date" data-product-id="1"></span></button>
                                </div>
                            </div>
                            <!-- Product 2 -->
                            <div class="product-card" data-category="mens" data-name="Джинсы Levi's" data-id="2" onclick="showProductModal(2)">
                                <div class="product-image">
                                    <img src="https://ir-3.ozone.ru/s3/multimedia-1-z/wc1000/7663205231.jpg" alt="Джинсы Levi's">
                                </div>
                                <div class="product-info">
                                    <h3 class="product-title">Джинсы Levi's</h3>
                                    <div class="product-price">
                                        <div class="price-container">
                                            <span class="current-price">6 799 ₽</span>
                                            <span class="old-price">7 999 ₽</span>
                                            <span class="discount-badge">-15%</span>
                                        </div>
                                    </div>
                                    <button class="add-to-cart" onclick="event.stopPropagation(); openSizeModal(2)">Доставка: <span class="delivery-date" data-product-id="2"></span></button>
                                </div>
                            </div>
                            <!-- Product 3 -->
                            <div class="product-card" data-category="mens" data-name="Куртка Nike" data-id="3" onclick="showProductModal(3)">
                                <div class="product-image">
                                    <img src="https://static.street-beat.ru/upload/resize_cache/iblock/0cb/666_666_1/4pdv2o6x1xt4tt01sb1gujidrz2yywvo.jpg" alt="Куртка Nike">
                                </div>
                                <div class="product-info">
                                    <h3 class="product-title">Куртка Nike</h3>
                                    <div class="product-price">
                                        <div class="price-container">
                                            <span class="current-price">10 999 ₽</span>
                                            <span class="old-price">12 999 ₽</span>
                                            <span class="discount-badge">-15%</span>
                                        </div>
                                    </div>
                                    <button class="add-to-cart" onclick="event.stopPropagation(); openSizeModal(3)">Доставка: <span class="delivery-date" data-product-id="3"></span></button>
                                </div>
                            </div>
                            <!-- Product 4 -->
                            <div class="product-card" data-category="mens" data-name="Свитшот Adidas" data-id="4" onclick="showProductModal(4)">
                                <div class="product-image">
                                    <img src="https://ir-3.ozone.ru/s3/multimedia-1-i/wc1000/8149790034.jpg" alt="Свитшот Adidas">
                                </div>
                                <div class="product-info">
                                    <h3 class="product-title">Свитшот Adidas</h3>
                                    <div class="product-price">
                                        <div class="price-container">
                                            <span class="current-price">5 099 ₽</span>
                                            <span class="old-price">5 999 ₽</span>
                                            <span class="discount-badge">-15%</span>
                                        </div>
                                    </div>
                                    <button class="add-to-cart" onclick="event.stopPropagation(); openSizeModal(4)">Доставка: <span class="delivery-date" data-product-id="4"></span></button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Женская одежда -->
                    <div class="category-section" id="womens">
                        <h3 class="category-title">Женская одежда</h3>
                        <div class="product-grid">
                            <!-- Product 1 -->
                            <div class="product-card" data-category="womens" data-name="Платье Prada" data-id="5" onclick="showProductModal(5)">
                                <div class="product-image">
                                    <img src="https://main-cdn.sbermegamarket.ru/big1/hlr-system/105/557/745/312/912/13/100028009058b0.jpg" alt="Платье Prada">
                                </div>
                                <div class="product-info">
                                    <h3 class="product-title">Платье Prada</h3>
                                    <div class="product-price">
                                        <div class="price-container">
                                            <span class="current-price">7 999 ₽</span>
                                            <span class="old-price">8 999 ₽</span>
                                            <span class="discount-badge">-11%</span>
                                        </div>
                                    </div>
                                    <button class="add-to-cart" onclick="event.stopPropagation(); openSizeModal(5)">Доставка: <span class="delivery-date" data-product-id="5"></span></button>
                                </div>
                            </div>
                            <!-- Product 2 -->
                            <div class="product-card" data-category="womens" data-name="Блузка Twinset" data-id="6" onclick="showProductModal(6)">
                                <div class="product-image">
                                    <img src="https://twinset.ru/upload/iblock/489/489d3b2791c2f3434463c16f89d85154.jpg" alt="Блузка Twinset женская">
                                </div>
                                <div class="product-info">
                                    <h3 class="product-title">Блузка Twinset женская</h3>
                                    <div class="product-price">
                                        <div class="price-container">
                                            <span class="current-price">4 499 ₽</span>
                                            <span class="old-price">4 999 ₽</span>
                                            <span class="discount-badge">-10%</span>
                                        </div>
                                    </div>
                                    <button class="add-to-cart" onclick="event.stopPropagation(); openSizeModal(6)">Доставка: <span class="delivery-date" data-product-id="6"></span></button>
                                </div>
                            </div>
                            <!-- Product 3 -->
                            <div class="product-card" data-category="womens" data-name="Юбка Juun.J" data-id="7" onclick="showProductModal(7)">
                                <div class="product-image">
                                    <img src="https://staticswa.golden-line.ru/images/catalog/JW5827W055_chernyi/JW5827W055_chernyi_1.jpg?v=1762433757" alt="Юбка Juun.J">
                                </div>
                                <div class="product-info">
                                    <h3 class="product-title">Юбка Juun.J</h3>
                                    <div class="product-price">
                                        <div class="price-container">
                                            <span class="current-price">5 999 ₽</span>
                                            <span class="old-price">6 999 ₽</span>
                                            <span class="discount-badge">-14%</span>
                                        </div>
                                    </div>
                                    <button class="add-to-cart" onclick="event.stopPropagation(); openSizeModal(7)">Доставка: <span class="delivery-date" data-product-id="7"></span></button>
                                </div>
                            </div>
                            <!-- Product 4 -->
                            <div class="product-card" data-category="womens" data-name="Костюм VASSA женский" data-id="8" onclick="showProductModal(8)">
                                <div class="product-image">
                                    <img src="https://ba77b47c-88c1-44f2-87c2-1661d6cad36a.selcdn.net/media/products/2025/11/Vassa.31.10_1429.jpg" alt="Костюм VASSA женский">
                                </div>
                                <div class="product-info">
                                    <h3 class="product-title">Костюм VASSA женский</h3>
                                    <div class="product-price">
                                        <div class="price-container">
                                            <span class="current-price">12 999 ₽</span>
                                            <span class="old-price">14 999 ₽</span>
                                            <span class="discount-badge">-13%</span>
                                        </div>
                                    </div>
                                    <button class="add-to-cart" onclick="event.stopPropagation(); openSizeModal(8)">Доставка: <span class="delivery-date" data-product-id="8"></span></button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Детская одежда -->
                    <div class="category-section" id="kids">
                        <h3 class="category-title">Детская одежда</h3>
                        <div class="product-grid">
                            <!-- Product 1 -->
                            <div class="product-card" data-category="kids" data-name="Футболка Tom Tailor детская" data-id="9" onclick="showProductModal(9)">
                                <div class="product-image">
                                    <img src="https://img.detmir.st/ktiPY65WRFoQpNZsYo0MlKHz7je9ozyB1_C9urMiQXc/rs:fit:700:700/g:sm/aHR0cHM6Ly9jYXRhbG9nLWNkbi5kZXRtaXIuc3QvbWVkaWEvNUd3TEtNMjRfallyQjVLVV9rbHBRNUZxQjMxNjN5TWV5RGZ6SzdzTDdFRT0uanBlZw.webp" alt="Футболка Tom Tailor детская">
                                </div>
                                <div class="product-info">
                                    <h3 class="product-title">Футболка Tom Tailor детская</h3>
                                    <div class="product-price">
                                        <div class="price-container">
                                            <span class="current-price">2 099 ₽</span>
                                            <span class="old-price">2 499 ₽</span>
                                            <span class="discount-badge">-16%</span>
                                        </div>
                                    </div>
                                    <button class="add-to-cart" onclick="event.stopPropagation(); openSizeModal(9)">Доставка: <span class="delivery-date" data-product-id="9"></span></button>
                                </div>
                            </div>
                            <!-- Product 2 -->
                            <div class="product-card" data-category="kids" data-name="Джинсы Futurino детские" data-id="10" onclick="showProductModal(10)">
                                <div class="product-image">
                                    <img src="https://img.detmir.st/zDXcPh0v5xsQCseZIq_tUt1lcRooC9AutOTvWylakUk/rs:fit:700:700/g:sm/aHR0cHM6Ly9jYXRhbG9nLWNkbi5kZXRtaXIuc3QvbWVkaWEvcFJmUkNON2c4aXVkZUJMR05Zck5Kd09JY0N6YmZNczFhbkd2cHl1Y3puQT0uanBlZw.webp" alt="Джинсы Futurino детские">
                                </div>
                                <div class="product-info">
                                    <h3 class="product-title">Джинсы Futurino детские</h3>
                                    <div class="product-price">
                                        <div class="price-container">
                                            <span class="current-price">3 299 ₽</span>
                                            <span class="old-price">3 999 ₽</span>
                                            <span class="discount-badge">-17%</span>
                                        </div>
                                    </div>
                                    <button class="add-to-cart" onclick="event.stopPropagation(); openSizeModal(10)">Доставка: <span class="delivery-date" data-product-id="10"></span></button>
                                </div>
                            </div>
                            <!-- Product 3 -->
                            <div class="product-card" data-category="kids" data-name="Куртка Котофей детская" data-id="11" onclick="showProductModal(11)">
                                <div class="product-image">
                                    <img src="https://kotofey.ru/images/cms/thumbs/99eeeb2116ba82928bb6c54f648b6db017048550/1863c1e5527711ee8c00ac1f6bd8bc11_1e723f71527711ee8c00ac1f6bd8bc11_556_555_jpg_5_80.jpg" alt="Куртка Котофей детская">
                                </div>
                                <div class="product-info">
                                    <h3 class="product-title">Куртка Котофей детская</h3>
                                    <div class="product-price">
                                        <div class="price-container">
                                            <span class="current-price">5 599 ₽</span>
                                            <span class="old-price">6 999 ₽</span>
                                            <span class="discount-badge">-20%</span>
                                        </div>
                                    </div>
                                    <button class="add-to-cart" onclick="event.stopPropagation(); openSizeModal(11)">Доставка: <span class="delivery-date" data-product-id="11"></span></button>
                                </div>
                            </div>
                            <!-- Product 4 -->
                            <div class="product-card" data-category="kids" data-name="Свитшот artie детский" data-id="12" onclick="showProductModal(12)">
                                <div class="product-image">
                                    <img src="https://nsk-basket-cdn-07.geobasket.ru/vol4982/part498294/498294680/images/big/1.webp" alt="Свитшот artie детский">
                                </div>
                                <div class="product-info">
                                    <h3 class="product-title">Свитшот artie детский</h3>
                                    <div class="product-price">
                                        <div class="price-container">
                                            <span class="current-price">2 799 ₽</span>
                                            <span class="old-price">3 499 ₽</span>
                                            <span class="discount-badge">-20%</span>
                                        </div>
                                    </div>
                                    <button class="add-to-cart" onclick="event.stopPropagation(); openSizeModal(12)">Доставка: <span class="delivery-date" data-product-id="12"></span></button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Аксессуары -->
                    <div class="category-section" id="accessories">
                        <h3 class="category-title">Аксессуары</h3>
                        <div class="product-grid">
                            <!-- Product 1 -->
                            <div class="product-card" data-category="accessories" data-name="Рюкзак Nike" data-id="13" onclick="showProductModal(13)">
                                <div class="product-image">
                                    <img src="https://static.street-beat.ru/upload/resize_cache/iblock/744/666_666_1/eap3l6f7hora2td6a2vecmo40z0c4ljp.jpg" alt="Рюкзак Nike">
                                </div>
                                <div class="product-info">
                                    <h3 class="product-title">Рюкзак Nike</h3>
                                    <div class="product-price">
                                        <div class="price-container">
                                            <span class="current-price">4 999 ₽</span>
                                            <span class="old-price">5 999 ₽</span>
                                            <span class="discount-badge">-17%</span>
                                        </div>
                                    </div>
                                    <button class="add-to-cart" onclick="event.stopPropagation(); openSizeModal(13)">Доставка: <span class="delivery-date" data-product-id="13"></span></button>
                                </div>
                            </div>
                            <!-- Product 2 -->
                            <div class="product-card" data-category="accessories" data-name="Часы G-SHOCK" data-id="14" onclick="showProductModal(14)">
                                <div class="product-image">
                                    <img src="https://static.alltime.ru/obj/catalog/watch/casio/img/big/GA-2100-1AER.jpg" alt="Часы G-SHOCK">
                                </div>
                                <div class="product-info">
                                    <h3 class="product-title">Часы G-SHOCK</h3>
                                    <div class="product-price">
                                        <div class="price-container">
                                            <span class="current-price">10 999 ₽</span>
                                            <span class="old-price">12 999 ₽</span>
                                            <span class="discount-badge">-15%</span>
                                        </div>
                                    </div>
                                    <button class="add-to-cart" onclick="event.stopPropagation(); openSizeModal(14)">Доставка: <span class="delivery-date" data-product-id="14"></span></button>
                                </div>
                            </div>
                            <!-- Product 3 -->
                            <div class="product-card" data-category="accessories" data-name="Очки Uvex" data-id="15" onclick="showProductModal(15)">
                                <div class="product-image">
                                    <img src="https://cdn.sportmaster.ru/upload/mdm/media_content/resize/4c3/1008_800_e9d2/51540170299.jpg" alt="Очки Uvex">
                                </div>
                                <div class="product-info">
                                    <h3 class="product-title">Очки Uvex</h3>
                                    <div class="product-price">
                                        <div class="price-container">
                                            <span class="current-price">6 399 ₽</span>
                                            <span class="old-price">7 999 ₽</span>
                                            <span class="discount-badge">-20%</span>
                                        </div>
                                    </div>
                                    <button class="add-to-cart" onclick="event.stopPropagation(); openSizeModal(15)">Доставка: <span class="delivery-date" data-product-id="15"></span></button>
                                </div>
                            </div>
                            <!-- Product 4 -->
                            <div class="product-card" data-category="accessories" data-name="Кошелек ALPAKA" data-id="16" onclick="showProductModal(16)">
                                <div class="product-image">
                                    <img src="https://static.insales-cdn.com/images/products/1/2319/546679055/zip-pouchv2_0000_HeroBlack_1020x1200.png" alt="Кошелек ALPAKA">
                                </div>
                                <div class="product-info">
                                    <h3 class="product-title">Кошелек ALPAKA</h3>
                                    <div class="product-price">
                                        <div class="price-container">
                                            <span class="current-price">3 999 ₽</span>
                                            <span class="old-price">4 999 ₽</span>
                                            <span class="discount-badge">-20%</span>
                                        </div>
                                    </div>
                                    <button class="add-to-cart" onclick="event.stopPropagation(); openSizeModal(16)">Доставка: <span class="delivery-date" data-product-id="16"></span></button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Головные уборы -->
                    <div class="category-section" id="hats">
                        <h3 class="category-title">Головные уборы</h3>
                        <div class="product-grid">
                            <!-- Product 1 -->
                            <div class="product-card" data-category="hats" data-name="Кепка Adidas" data-id="17" onclick="showProductModal(17)">
                                <div class="product-image">
                                    <img src="https://static.street-beat.ru/upload/resize_cache/iblock/380/666_666_1/ry3fsqil64la4x8kmzzhedmzqnlmwzir.jpg" alt="Кепка Adidas">
                                </div>
                                <div class="product-info">
                                    <h3 class="product-title">Кепка Adidas</h3>
                                    <div class="product-price">
                                        <div class="price-container">
                                            <span class="current-price">2 399 ₽</span>
                                            <span class="old-price">2 999 ₽</span>
                                            <span class="discount-badge">-20%</span>
                                        </div>
                                    </div>
                                    <button class="add-to-cart" onclick="event.stopPropagation(); openSizeModal(17)">Доставка: <span class="delivery-date" data-product-id="17"></span></button>
                                </div>
                            </div>
                            <!-- Product 2 -->
                            <div class="product-card" data-category="hats" data-name="Бейсболка Nike" data-id="18" onclick="showProductModal(18)">
                                <div class="product-image">
                                    <img src="https://a.lmcdn.ru/product/R/T/RTLAEK547401_28546884_3_v1_2x.jpg" alt="Бейсболка Nike">
                                </div>
                                <div class="product-info">
                                    <h3 class="product-title">Бейсболка Nike</h3>
                                    <div class="product-price">
                                        <div class="price-container">
                                            <span class="current-price">1 999 ₽</span>
                                            <span class="old-price">2 499 ₽</span>
                                            <span class="discount-badge">-20%</span>
                                        </div>
                                    </div>
                                    <button class="add-to-cart" onclick="event.stopPropagation(); openSizeModal(18)">Доставка: <span class="delivery-date" data-product-id="18"></span></button>
                                </div>
                            </div>
                            <!-- Product 3 -->
                            <div class="product-card" data-category="hats" data-name="Шапка HUGO" data-id="19" onclick="showProductModal(19)">
                                <div class="product-image">
                                    <img src="https://ir-3.ozone.ru/s3/multimedia-1-r/wc1000/7669933443.jpg" alt="Шапка HUGO">
                                </div>
                                <div class="product-info">
                                    <h3 class="product-title">Шапка HUGO</h3>
                                    <div class="product-price">
                                        <div class="price-container">
                                            <span class="current-price">2 799 ₽</span>
                                            <span class="old-price">3 499 ₽</span>
                                            <span class="discount-badge">-20%</span>
                                        </div>
                                    </div>
                                    <button class="add-to-cart" onclick="event.stopPropagation(); openSizeModal(19)">Доставка: <span class="delivery-date" data-product-id="19"></span></button>
                                </div>
                            </div>
                            <!-- Product 4 -->
                            <div class="product-card" data-category="hats" data-name="Панама Reebok" data-id="20" onclick="showProductModal(20)">
                                <div class="product-image">
                                    <img src="https://ir-3.ozone.ru/s3/multimedia-1-3/wc1000/8351276727.jpg" alt="Панама Reebok">
                                </div>
                                <div class="product-info">
                                    <h3 class="product-title">Панама Reebok</h3>
                                    <div class="product-price">
                                        <div class="price-container">
                                            <span class="current-price">3 199 ₽</span>
                                            <span class="old-price">3 999 ₽</span>
                                            <span class="discount-badge">-20%</span>
                                        </div>
                                    </div>
                                    <button class="add-to-cart" onclick="event.stopPropagation(); openSizeModal(20)">Доставка: <span class="delivery-date" data-product-id="20"></span></button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Страница 2 -->
                <div class="product-page-container hidden" id="page2">
                    <!-- Головные уборы - страница 2 -->
                    <div class="category-section" id="hats-page2">
                        <h3>⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀</h3>
                        <div class="product-grid">
                            <!-- Product 21 -->
                            <div class="product-card" data-category="hats" data-name="Шапка New Era" data-id="21" onclick="showProductModal(21)">
                                <div class="product-image">
                                    <img src="https://ir-3.ozone.ru/s3/multimedia-1-a/wc1000/6937178151.jpg" alt="Шапка New Era">
                                </div>
                                <div class="product-info">
                                    <h3 class="product-title">Шапка New Era</h3>
                                    <div class="product-price">
                                        <div class="price-container">
                                            <span class="current-price">3 499 ₽</span>
                                            <span class="old-price">4 299 ₽</span>
                                            <span class="discount-badge">-19%</span>
                                        </div>
                                    </div>
                                    <button class="add-to-cart" onclick="event.stopPropagation(); openSizeModal(21)">Доставка: <span class="delivery-date" data-product-id="21"></span></button>
                                </div>
                            </div>
                            <!-- Product 22 -->
                            <div class="product-card" data-category="hats" data-name="Кепка Puma" data-id="22" onclick="showProductModal(22)">
                                <div class="product-image">
                                    <img src="https://ir-3.ozone.ru/s3/multimedia-1-6/wc1000/6948817828.jpg" alt="Кепка Puma">
                                </div>
                                <div class="product-info">
                                    <h3 class="product-title">Кепка Puma</h3>
                                    <div class="product-price">
                                        <div class="price-container">
                                            <span class="current-price">2 199 ₽</span>
                                            <span class="old-price">2 799 ₽</span>
                                            <span class="discount-badge">-21%</span>
                                        </div>
                                    </div>
                                    <button class="add-to-cart" onclick="event.stopPropagation(); openSizeModal(22)">Доставка: <span class="delivery-date" data-product-id="22"></span></button>
                                </div>
                            </div>
                            <!-- Product 23 -->
                            <div class="product-card" data-category="hats" data-name="Бейсболка Under Armour" data-id="23" onclick="showProductModal(23)">
                                <div class="product-image">
                                    <img src="https://ir-3.ozone.ru/s3/multimedia-1-6/wc1000/6937178229.jpg" alt="Бейсболка Under Armour">
                                </div>
                                <div class="product-info">
                                    <h3 class="product-title">Бейсболка Under Armour</h3>
                                    <div class="product-price">
                                        <div class="price-container">
                                            <span class="current-price">2 599 ₽</span>
                                            <span class="old-price">3 199 ₽</span>
                                            <span class="discount-badge">-19%</span>
                                        </div>
                                    </div>
                                    <button class="add-to-cart" onclick="event.stopPropagation(); openSizeModal(23)">Доставка: <span class="delivery-date" data-product-id="23"></span></button>
                                </div>
                            </div>
                            <!-- Product 24 -->
                            <div class="product-card" data-category="hats" data-name="Панама Lacoste" data-id="24" onclick="showProductModal(24)">
                                <div class="product-image">
                                    <img src="https://ir-3.ozone.ru/s3/multimedia-1-8/wc1000/6937178275.jpg" alt="Панама Lacoste">
                                </div>
                                <div class="product-info">
                                    <h3 class="product-title">Панама Lacoste</h3>
                                    <div class="product-price">
                                        <div class="price-container">
                                            <span class="current-price">3 899 ₽</span>
                                            <span class="old-price">4 599 ₽</span>
                                            <span class="discount-badge">-15%</span>
                                        </div>
                                    </div>
                                    <button class="add-to-cart" onclick="event.stopPropagation(); openSizeModal(24)">Доставка: <span class="delivery-date" data-product-id="24"></span></button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Пагинация -->
                <div class="pagination">
                    <button class="page-button active" onclick="changePage(1)">1</button>
                    <button class="page-button" onclick="changePage(2)">2</button>
                </div>
            </div>
        </section>

        <!-- Остальной код остается без изменений -->
        <!-- About Section -->
        <section class="about" id="about">
            <div class="container">
                <h2 class="section-title">О нас</h2>
                <div class="about-content">
                    <div class="about-text">
                        <h3>Витрина моды - ваш проводник в мире стиля</h3>
                        <p>Мы - команда энтузиастов моды, создавшая "Витрину моды" в 2025 году. Наша миссия - сделать качественную и стильную одежду доступной для каждого.</p>
                        <p>Мы тщательно отбираем коллекции, сотрудничая только с проверенными производителями, которые разделяют наши ценности качества и устойчивого развития.</p>
                        <p>В нашем ассортименте вы найдете одежду для всех возрастов и на любой случай - от повседневных образов до особых мероприятий.</p>
                    </div>
                    <div class="about-images">
                        <div class="about-image-item" onclick="showModal('employee1Modal')">
                            <img src="img/Директор.jpg" alt="Артем Лаптев">
                            
                        </div>
                        <div class="about-image-item" onclick="showModal('employee2Modal')">
                            <img src="img/дизайнер.jpg" alt="Богдан Назмиев">
                            
                        </div>
                        <div class="about-image-item" onclick="showModal('employee3Modal')">
                            <img src="img/менеджер.jpg" alt="Богдан Назмиев">
                           
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Features Section -->
        <section class="features">
            <div class="container">
                <h2 class="section-title">Почему выбирают нас?</h2>
                <div class="feature-grid">
                    <!-- Feature 1 -->
                    <div class="feature-card" onclick="showModal('deliveryDetailsModal')">
                        <img src="img/доставка.svg" alt="доставка">
                        <h3 class="feature-title">Быстрая доставка</h3>
                        <p>Доставляем заказы по всей России за 2-7 дней</p>
                    </div>
                    <!-- Feature 2 -->
                    <div class="feature-card" onclick="showModal('paymentDetailsModal')">
                        <img src="img/платежи.svg" alt="платежи">
                        <h3 class="feature-title">Безопасные платежи</h3>
                        <p>Все транзакции защищены современными методами шифрования</p>
                    </div>
                    <!-- Feature 3 -->
                    <div class="feature-card" onclick="showModal('supportDetailsModal')">
                        <img src="img/поддержка.svg" alt="поддержка">
                        <h3 class="feature-title">Поддержка 24/7</h3>
                        <p>Наша команда поддержки всегда готова помочь вам</p>
                    </div>
                    <!-- Feature 4 -->
                    <div class="feature-card" onclick="showModal('returnDetailsModal')">
                        <img src="img/возврат.svg" alt="возврат">
                        <h3 class="feature-title">Легкий возврат</h3>
                        <p>Возврат товара в течение 30 дней без лишних вопросов</p>
                    </div>
                </div>
            </div>
        </section>
</main>
        <!-- Footer -->
        <footer id="footer">
            <div class="container">
                <div class="footer-content">
                    <div class="footer-column">
                        <h3>О нас</h3>
                        <ul class="footer-links">
                            <li><a href="#about" onclick="scrollToSection('about')">Команда</a></li>
                            <div class="contact-item">
                                <span class="contact-icon"><img src="img/вк.svg"  width="20px" alt="вк"></span>
                                <span><a href="https://vk.com/club233729508?from=groups">Наше сообщество ВК</a></span>
                            </div>
                            <div class="contact-item">
                                <span class="contact-icon"><img src="img/телефон.png" width="20px" alt="телефон"></span>
                                <span>+7 (495) 123-45-67</span>
                            </div>
                            <div class="contact-item">
                                <span class="contact-icon"><img src="img/почта.png"  width="20px" alt="почта"></span>
                                <span>info@vitrina-mody.ru</span>
                            </div>
                        </ul>
                    </div>
                    <div class="footer-column">
                        <h3>Помощь</h3>
                        <ul class="footer-links">
                            <li><a href="#deliveryDetailsModal" onclick="showModal('deliveryDetailsModal')">Доставка</a></li>
                            <li><a href="#returnDetailsModal" onclick="showModal('returnDetailsModal')">Возврат</a></li>
                        </ul>
                    </div>
                    
                    <div class="footer-column">
                        <h3>Подписка</h3>
                        <p>Подпишитесь на нашу рассылку, чтобы получать новости о продуктах и специальные предложения</p>
                        <form style="margin-top: 15px;">
                            <input type="email" placeholder="Ваш email" style="padding: 8px; width: 100%; background: #2a2a2a; border: 1px solid #98205E; color: white; border-radius: 4px; margin-bottom: 10px;">
                            <button type="submit" style="background: #98205E; color: white; border: none; padding: 8px 15px; border-radius: 4px; cursor: pointer; width: 100%;">Подписаться</button>
                        </form>
                    </div>
                </div>
                <div class="copyright">
                    &copy; 2025 Витрина моды. Все права защищены.
                </div>
            </div>
        </footer>
    </div>

    <!-- Все остальные модальные окна и скрипты остаются без изменений -->
    <!-- Корзина -->
    <div id="cartModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('cartModal')">&times;</span>
            <section class="cart-page">
                <div class="container">
                    <h2 class="cart-title">Ваша <span>корзина</span></h2>
                    
                    <div class="cart-container">
                        <div class="cart-items" id="cartItemsContainer">
                            <!-- Здесь будут отображаться товары из корзины -->
                        </div>
                        
                        <div class="cart-summary">
                            <h3 class="summary-title">Итог заказа</h3>
                            <div class="summary-row">
                                <span>Товары (<span id="cartItemsCount">0</span>)</span>
                                <span id="cartItemsTotal">0 ₽</span>
                            </div>
                            <div class="summary-row">
                                <span>Доставка</span>
                                <span id="deliveryCost">0 ₽</span>
                            </div>
                            <div class="summary-row">
                                <span>Налог</span>
                                <span id="taxAmount">0 ₽</span>
                            </div>
                            <div class="summary-row summary-total">
                                <span>Итого</span>
                                <span id="cartTotal">0 ₽</span>
                            </div>
                            
                            <form id="checkoutForm">
                                <h3 class="summary-title" style="margin-top: 30px;">Контактная информация</h3>
                                <div class="form-group">
                                    <label for="checkoutEmail" class="form-label">Email</label>
                                    <input type="email" id="checkoutEmail" class="form-input" placeholder="Введите ваш email" required autocomplete="email">
                                </div>
                                <div class="form-group">
                                    <label for="checkoutPhone" class="form-label">Телефон</label>
                                    <input type="tel" id="checkoutPhone" class="form-input" placeholder="Введите ваш телефон" required>
                                </div>
                                <div class="form-group">
                                    <label for="checkoutAddress" class="form-label">Адрес доставки</label>
                                    <textarea id="checkoutAddress" class="form-input" placeholder="Введите адрес доставки" rows="3" required></textarea>
                                </div>
                                <button type="submit" class="checkout-button">Оформить заказ</button>
                            </form>
                            
                            <a href="#" onclick="showMainPage()" class="continue-shopping">Продолжить покупки</a>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <!-- Избранное -->
    <div id="wishlistModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('wishlistModal')">&times;</span>
            <section class="wishlist-page">
                <div class="container">
                    <h2 class="wishlist-title">Ваши <span>избранные товары</span></h2>
                    
                    <div class="wishlist-container">
                        <div class="wishlist-items" id="wishlistItemsContainer">
                            <!-- Здесь будут отображаться товары из избранного -->
                        </div>
                        
                        <div class="wishlist-summary">
                            <h3 class="summary-title">Избранное</h3>
                            <div class="summary-row">
                                <span>Товары (<span id="wishlistItemsCount">0</span>)</span>
                            </div>
                            
                            <a href="#" onclick="showMainPage()" class="continue-shopping">Продолжить покупки</a>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <!-- Вход -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('loginModal')">&times;</span>
            <section class="auth-page">
                <div class="container">
                    <div class="auth-container">
                        <h2 class="auth-title">Вход в <span>Витрину моды</span></h2>
                        <form id="loginForm">
                            <div class="form-group">
                                <label for="loginEmail" class="form-label">Email</label>
                                <input type="email" id="loginEmail" class="form-input" placeholder="Введите ваш email" required autocomplete="email">
                            </div>
                            <div class="form-group">
                                <label for="loginPassword" class="form-label">Пароль</label>
                                <input type="password" id="loginPassword" class="form-input" placeholder="Введите ваш пароль" required>
                            </div>
                            <button type="submit" class="auth-button">Войти</button>
                            <div class="auth-links">
                                <a href="#">Забыли пароль?</a>
                                <a href="#" onclick="closeModal('loginModal'); showModal('registerModal')">Создать аккаунт</a>
                            </div>
                        </form>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <!-- Регистрация -->
    <div id="registerModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('registerModal')">&times;</span>
            <section class="auth-page">
                <div class="container">
                    <div class="auth-container">
                        <h2 class="auth-title">Регистрация в <span>Витрине моды</span></h2>
                        <form id="registrationForm">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="firstName" class="form-label">Имя</label>
                                    <input type="text" id="firstName" class="form-input" placeholder="Введите ваше имя" required>
                                </div>
                                <div class="form-group">
                                    <label for="lastName" class="form-label">Фамилия</label>
                                    <input type="text" id="lastName" class="form-input" placeholder="Введите вашу фамилию" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="regEmail" class="form-label">Email</label>
                                <input type="email" id="regEmail" class="form-input" placeholder="Введите ваш email" required autocomplete="email">
                            </div>
                            <div class="form-group">
                                <label for="regPassword" class="form-label">Пароль</label>
                                <input type="password" id="regPassword" class="form-input" placeholder="Создайте пароль" required>
                            </div>
                            <div class="form-group">
                                <label for="confirmPassword" class="form-label">Подтверждение пароля</label>
                                <input type="password" id="confirmPassword" class="form-input" placeholder="Повторите пароль" required>
                            </div>
                            <button type="submit" class="auth-button">Зарегистрироваться</button>
                            <div class="auth-links">
                                <a href="#" onclick="closeModal('registerModal'); showModal('loginModal')">Уже есть аккаунт? Войти</a>
                            </div>
                            <div class="terms">
                                Нажимая "Зарегистрироваться", вы соглашаетесь с нашими <a href="#">Условиями использования</a> и <a href="#">Политикой конфиденциальности</a>.
                            </div>
                        </form>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <!-- Профиль -->
    <div id="profileModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('profileModal')">&times;</span>
            <section class="profile-page">
                <div class="container">
                    <h2 class="section-title">Личный кабинет</h2>
                    <div class="profile-container">
                        <div class="profile-sidebar">
                            <div class="profile-avatar">
                                <div class="avatar-image" id="profileAvatar">
                                    <!-- Аватар будет загружен через JS -->
                                </div>
                                <input type="file" id="avatarInput" accept="image/*" style="display: none;">
                                <a href="#" class="change-avatar" onclick="document.getElementById('avatarInput').click()">Изменить аватар</a>
                            </div>
                            <ul class="profile-menu">
                                <li><a href="#" data-target="profile-info" class="active">Личная информация</a></li>
                                <li><a href="#" data-target="password-change">Смена пароля</a></li>
                                <li><a href="#" data-target="order-history">История заказов</a></li>
                                <li><a href="#" onclick="logout()">Выйти</a></li>
                            </ul>
                        </div>
                        <div class="profile-content">
                            <!-- Личная информация -->
                            <div class="profile-section active" id="profile-info">
                                <h3 class="section-title">Личная информация</h3>
                                <div class="form-group">
                                    <label for="profileFirstName" class="form-label">Имя</label>
                                    <input type="text" id="profileFirstName" class="form-input" placeholder="Введите ваше имя">
                                </div>
                                <div class="form-group">
                                    <label for="profileLastName" class="form-label">Фамилия</label>
                                    <input type="text" id="profileLastName" class="form-input" placeholder="Введите вашу фамилию">
                                </div>
                                <div class="form-group">
                                    <label for="profileEmail" class="form-label">Email</label>
                                    <input type="email" id="profileEmail" class="form-input" placeholder="Введите ваш email" autocomplete="email">
                                </div>
                                <div class="form-group">
                                    <label for="profilePhone" class="form-label">Телефон</label>
                                    <input type="tel" id="profilePhone" class="form-input" placeholder="Введите ваш телефон">
                                </div>
                                <div class="form-group">
                                    <label for="profileAddress" class="form-label">Адрес доставки</label>
                                    <textarea id="profileAddress" class="form-input" placeholder="Введите ваш адрес" rows="3"></textarea>
                                </div>
                                <button class="save-button" id="saveProfile">Сохранить изменения</button>
                            </div>

                            <!-- Смена пароля -->
                            <div class="profile-section" id="password-change">
                                <h3 class="section-title">Смена пароля</h3>
                                <div class="form-group">
                                    <label for="currentPassword" class="form-label">Текущий пароль</label>
                                    <input type="password" id="currentPassword" class="form-input" placeholder="Введите текущий пароль">
                                </div>
                                <div class="form-group">
                                    <label for="newPassword" class="form-label">Новый пароль</label>
                                    <input type="password" id="newPassword" class="form-input" placeholder="Введите новый пароль">
                                </div>
                                <div class="form-group">
                                    <label for="confirmNewPassword" class="form-label">Подтверждение пароля</label>
                                    <input type="password" id="confirmNewPassword" class="form-input" placeholder="Повторите новый пароль">
                                </div>
                                <button class="save-button" id="changePassword">Изменить пароль</button>
                            </div>

                            <!-- История заказов -->
                            <div class="profile-section" id="order-history">
                                <h3 class="section-title">История заказов</h3>
                                <div class="order-history" id="orderHistoryContainer">
                                    <!-- Заказы будут загружаться динамически -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <!-- Товар -->
    <div id="productModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('productModal')">&times;</span>
            <section class="product-page">
                <div class="container">
                    <div class="product-container">
                        <div class="product-gallery">
                            <div class="main-image">
                                <img src="" alt="Основное изображение товара" id="mainImage">
                            </div>
                            <div class="thumbnail-gallery" id="thumbnailGallery">
                                <!-- Миниатюры будут добавляться динамически -->
                            </div>
                        </div>
                        <div class="product-details">
                            <h1 class="product-title" id="productTitle"></h1>
                            <div class="product-price" id="productPrice"></div>
                            <div class="product-description" id="productDescription"></div>
                            
                            <div class="size-selector">
                                <div class="size-title">Выберите размер:</div>
                                <div class="size-options">
                                    <div class="size-option" onclick="selectSize(this)">S</div>
                                    <div class="size-option selected" onclick="selectSize(this)">M</div>
                                    <div class="size-option" onclick="selectSize(this)">L</div>
                                    <div class="size-option" onclick="selectSize(this)">XL</div>
                                    <div class="size-option" onclick="selectSize(this)">XXL</div>
                                </div>
                            </div>
                            
                            <div class="quantity-selector">
                                <div class="quantity-title">Количество:</div>
                                <div class="quantity-controls">
                                    <button class="quantity-btn" onclick="decreaseQuantity()">-</button>
                                    <input type="text" class="quantity-input" value="1" id="quantityInput">
                                    <button class="quantity-btn" onclick="increaseQuantity()">+</button>
                                </div>
                            </div>
                            
                            <div class="stock-info" id="stockInfo"></div>
                            
                            <div class="action-buttons">
                                <button class="add-to-cart-btn" onclick="addToCartFromModal()">Добавить в корзину</button>
                                <button class="wishlist-btn" id="wishlistBtn" onclick="toggleWishlistFromModal()">В избранное</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="product-info-tabs">
                        <div class="tabs">
                            <div class="tab active" onclick="switchTab(0)">Описание</div>
                            <div class="tab" onclick="switchTab(1)">Характеристики</div>
                            <div class="tab" onclick="switchTab(2)">Отзывы</div>
                            <div class="tab" onclick="switchTab(3)">Доставка и возврат</div>
                        </div>
                        
                        <div class="tab-content active" id="descriptionTab">
                            <!-- Содержимое будет заполняться динамически -->
                        </div>
                        
                        <div class="tab-content" id="specsTab">
                            <!-- Содержимое будет заполняться динамически -->
                        </div>
                        
                        <div class="tab-content" id="reviewsTab">
                            <h3>Отзывы покупателей</h3>
                            <div id="reviewsList">
                                <!-- Отзывы будут загружаться динамически -->
                            </div>
                            <div id="reviewFormContainer">
                                <!-- Форма отзыва будет загружаться динамически -->
                            </div>
                        </div>
                        
                        <div class="tab-content" id="deliveryTab">
                            <h3>Условия доставки и возврата</h3>
                            <p>Мы осуществляем доставку по всему миру. Срок доставки зависит от вашего местоположения и составляет от 3 до 14 рабочих дней.</p>
                            <p>Вы можете вернуть товар в течение 30 дней с момента получения, если он не был в употреблении и сохранены все бирки и упаковка.</p>
                        </div>
                    </div>
                    
                    <div class="related-products">
                        <h3 class="related-title">Связанные товары</h3>
                        <div class="product-grid" id="relatedProductsGrid">
                            <!-- Связанные товары будут добавляться динамически -->
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <!-- Модальное окно выбора размера -->
    <div id="sizeModal" class="modal">
        <div class="modal-content size-modal">
            <span class="close-modal" onclick="closeModal('sizeModal')">&times;</span>
            <div class="size-modal-content">
                <div class="size-modal-image">
                    <img id="sizeModalImage" src="" alt="Изображение товара">
                </div>
                <h2 class="size-modal-title" id="sizeModalTitle"></h2>
                <div class="size-modal-price" id="sizeModalPrice"></div>
                
                <div class="size-selector">
                    <div class="size-title">Выберите размер:</div>
                    <div class="size-options" id="sizeModalOptions">
                        <div class="size-option" onclick="selectSizeInModal(this)">S</div>
                        <div class="size-option selected" onclick="selectSizeInModal(this)">M</div>
                        <div class="size-option" onclick="selectSizeInModal(this)">L</div>
                        <div class="size-option" onclick="selectSizeInModal(this)">XL</div>
                        <div class="size-option" onclick="selectSizeInModal(this)">XXL</div>
                    </div>
                </div>
                
                <div class="quantity-selector">
                    <div class="quantity-title">Количество:</div>
                    <div class="quantity-controls">
                        <button class="quantity-btn" onclick="decreaseQuantityInModal()">-</button>
                        <input type="text" class="quantity-input" value="1" id="sizeModalQuantity">
                        <button class="quantity-btn" onclick="increaseQuantityInModal()">+</button>
                    </div>
                </div>
                
                <div class="size-modal-actions">
                    <button class="size-modal-button size-modal-cancel" onclick="closeModal('sizeModal')">Отмена</button>
                    <button class="size-modal-button size-modal-add" onclick="addToCartFromSizeModal()">Добавить в корзину</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Модальное окно транзакций -->
    <div id="transactionsModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('transactionsModal')">&times;</span>
            <section class="transactions-page">
                <div class="container">
                    <h2 class="transactions-title">Все <span>транзакции</span></h2>
                    
                    <div id="transactionsContainer">
                        <!-- Здесь будут отображаться транзакции -->
                    </div>
                </div>
            </section>
        </div>
    </div>

    <!-- Модальные окна сотрудников -->
    <!-- Сотрудник 1 -->
    <div id="employee1Modal" class="modal employee-modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('employee1Modal')">&times;</span>
            <div class="employee-details">
                <div class="employee-image">
                    <img src="img/Директор.jpg" alt="Артем Лаптев">
                </div>
                <h2 class="employee-name">Артем Лаптев</h2>
                <div class="employee-position">Основатель и генеральный директор</div>
                <div class="employee-description">
                    <p>Артем основал "Витрину моды" в 2025 году с целью создания бренда, который объединяет стиль, качество и доступность. Она имеет более 10 лет опыта в индустрии моды и управления розничными сетями.</p>
                    <p>Под руководством Анны компания выросла от небольшого бутика до одного из ведущих онлайн-магазинов одежды в России. Она отвечает за общее стратегическое развитие компании и формирование ассортимента.</p>
                </div>
                <div class="employee-skills">
                    <h3>Образование и достижения</h3>
                    <ul>
                        <li>Высшее образование в области управления бизнесом</li>
                        <li>Сертификат по маркетингу в сфере моды</li>
                        <li>Награда "Предприниматель года" в 2025 году</li>
                        <li>Опыт работы в международных fashion-компаниях</li>
                    </ul>
                </div>
                <div class="employee-contact">
                    <h3>Контакты</h3>
                    <p>Email: artem@vitrina-mody.ru</p>
                    <p>Телефон: +7 (495) 123-45-67 (доб. 101)</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Сотрудник 2 -->
    <div id="employee2Modal" class="modal employee-modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('employee2Modal')">&times;</span>
            <div class="employee-details">
                <div class="employee-image">
                    <img src="img/дизайнер.jpg" alt="Дмитрий Швагирев">
                </div>
                <h2 class="employee-name">Дмитрий Швагирев</h2>
                <div class="employee-position">Главный дизайнер</div>
                <div class="employee-description">
                    <p>Дмитрий присоединился к команде "Витрины моды" в 2019 году и с тех пор возглавляет дизайнерское направление. Он отвечает за разработку дизайна одежды и контроль качества всех коллекций.</p>
                    <p>Его работы были отмечены на нескольких международных конкурсах, включая премию "Лучший молодой дизайнер" в 2021 году. Дмитрий постоянно следит за мировыми трендами и внедряет инновационные подходы в дизайне.</p>
                </div>
                <div class="employee-skills">
                    <h3>Образование и достижения</h3>
                    <ul>
                        <li>Образование в области дизайна одежды</li>
                        <li>Стажировка в ведущих модных домах Европы</li>
                        <li>Премия "Лучший молодой дизайнер" 2021</li>
                        <li>Участие в международных неделях моды</li>
                    </ul>
                </div>
                <div class="employee-contact">
                    <h3>Контакты</h3>
                    <p>Email: dmitry@vitrina-mody.ru</p>
                    <p>Телефон: +7 (495) 123-45-67 (доб. 102)</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Сотрудник 3 -->
    <div id="employee3Modal" class="modal employee-modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('employee3Modal')">&times;</span>
            <div class="employee-details">
                <div class="employee-image">
                    <img src="img/менеджер.jpg" alt="Богдан Назмиев">
                </div>
                <h2 class="employee-name">Богдан Назмиев</h2>
                <div class="employee-position">Менеджер по продажам и клиентскому сервису</div>
                <div class="employee-description">
                    <p>Богдан работает в компании с 2020 года и отвечает за развитие продаж и клиентский сервис. Она создала и внедрила система поддержки клиентов, которая позволяет оперативно решать все вопросы покупателей.</p>
                    <p>Благодаря ее усилиям, уровень удовлетворенности клиентов вырос на 40% за последний год. Богдан всегда готова помочь клиентам с выбором и ответить на все вопросы, связанные с покупками в нашем магазине.</p>
                </div>
                <div class="employee-skills">
                    <h3>Образование и достижения</h3>
                    <ul>
                        <li>Образование в области маркетинга и продаж</li>
                        <li>Сертификат по управлению клиентским сервисом</li>
                        <li>Повышение уровня удовлетворенности клиентов на 40%</li>
                        <li>Разработка системы лояльности для постоянных покупателей</li>
                    </ul>
                </div>
                <div class="employee-contact">
                    <h3>Контакты</h3>
                    <p>Email: bogdan@vitrina-mody.ru</p>
                    <p>Телефон: +7 (495) 123-45-67 (доб. 103)</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Модальные окна с деталями услуг -->

    <!-- Быстрая доставка -->
    <div id="deliveryDetailsModal" class="modal feature-details-modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('deliveryDetailsModal')">&times;</span>
            <div class="feature-details">
                <h2>Быстрая доставка</h2>
                <p>Мы понимаем, как важно получить заказ вовремя, поэтому разработали эффективную систему доставки по всей России и странам СНГ.</p>
                
                <h3>Способы доставки</h3>
                <ul>
                    <li><strong>Курьерская доставка</strong> - до двери в течение 1-3 дней в крупных городах</li>
                    <li><strong>Почта России</strong> - доставка в любой населенный пункт в течение 5-14 дней</li>
                    <li><strong>Транспортные компании</strong> - доставка в отдаленные регионы в течение 3-7 дней</li>
                    <li><strong>Самовывоз</strong> - из пунктов выдачи в вашем городе в течение 1-2 дней</li>
                </ul>
                
                <h3>Стоимость доставки</h3>
                <ul>
                    <li>Бесплатная доставка при заказе от 5000 рублей</li>
                    <li>Стандартная доставка - от 300 рублей</li>
                    <li>Экспресс-доставка - от 700 рублей</li>
                </ul>
                
                <h3>Отслеживание заказа</h3>
                <p>После отправки заказа мы высылаем трек-номер для отслеживания. Вы всегда будете знать, где находится ваш заказ.</p>
                
                <h3>Международная доставка</h3>
                <p>Мы осуществляем доставку в страны СНГ, Европу и другие регионы. Сроки и стоимость рассчитываются индивидуально.</p>
            </div>
        </div>
    </div>

    <!-- Безопасные платежи -->
    <div id="paymentDetailsModal" class="modal feature-details-modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('paymentDetailsModal')">&times;</span>
            <div class="feature-details">
                <h2>Безопасные платежи</h2>
                <p>Мы используем самые современные системы защиты платежей, чтобы ваши финансовые данные были в полной безопасности.</p>
                
                <h3>Способы оплаты</h3>
                <ul>
                    <li><strong>Банковские карты</strong> - Visa, MasterCard, Мир</li>
                    <li><strong>Электронные кошельки</strong> - ЮMoney, QIWI, WebMoney</li>
                    <li><strong>Мобильные платежи</strong> - через приложения банков</li>
                    <li><strong>Наличные</strong> - при получении заказа</li>
                    <li><strong>Банковский перевод</strong> - для юридических лиц</li>
                </ul>
                
                <h3>Защита платежей</h3>
                <ul>
                    <li>Все платежи проходят через защищенные серверы с SSL-шифрованием</li>
                    <li>Мы не храним данные вашей банковской карты</li>
                    <li>Поддержка 3D-Secure для дополнительной защиты</li>
                    <li>Сертификация по стандарту PCI DSS</li>
                </ul>
                
                <h3>Возврат средств</h3>
                <p>В случае возврата товара средства возвращаются на ту же карту или счет, с которого была произведена оплата, в течение 3-10 рабочих дней.</p>
                
                <h3>Конфиденциальность</h3>
                <p>Мы гарантируем полную конфиденциальность ваших платежных данных и не передаем их третьим лицам.</p>
            </div>
        </div>
    </div>

    <!-- Поддержка 24/7 -->
    <div id="supportDetailsModal" class="modal feature-details-modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('supportDetailsModal')">&times;</span>
            <div class="feature-details">
                <h2>Поддержка 24/7</h2>
                <p>Наша команда поддержки работает круглосуточно, чтобы помочь вам с любыми вопросами и решить проблемы в кратчайшие сроки.</p>
                
                <h3>Способы связи</h3>
                <ul>
                    <li><strong>Онлайн-чат</strong> - мгновенная помощь на сайте</li>
                    <li><strong>Телефон</strong> - +7 (495) 123-45-67</li>
                    <li><strong>Электронная почта</strong> - support@vitrina-mody.ru</li>
                    <li><strong>Мессенджеры</strong> - WhatsApp, Telegram, Viber</li>
                    <li><strong>Социальные сети</strong> - быстрые ответы в комментариях и сообщениях</li>
                </ul>
                
                <h3>Время ответа</h3>
                <ul>
                    <li>Онлайн-чат - мгновенно</li>
                    <li>Электронная почта - до 2 часов</li>
                    <li>Социальные сети - до 1 часа</li>
                    <li>Телефон - сразу при звонке</li>
                </ul>
                
                <h3>Что мы помогаем решить</h3>
                <ul>
                    <li>Консультации по товарам и размерам</li>
                    <li>Помощь с оформлением заказа</li>
                    <li>Отслеживание доставки</li>
                    <li>Решение проблем с оплатой</li>
                    <li>Оформление возврата и обмена</li>
                    <li>Любые другие вопросы</li>
                </ul>
                
                <h3>Многоязычная поддержка</h3>
                <p>Наши операторы говорят на русском, английном и французском языках, чтобы помочь клиентам из разных стран.</p>
            </div>
        </div>
    </div>

    <!-- Легкий возврат -->
    <div id="returnDetailsModal" class="modal feature-details-modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('returnDetailsModal')">&times;</span>
            <div class="feature-details">
                <h2>Легкий возврат</h2>
                <p>Мы хотим, чтобы покупки в нашем магазине были максимально комфортными, поэтому разработали простую и понятную систему возврата товаров.</p>
                
                <h3>Условия возврата</h3>
                <ul>
                    <li>Возврат возможен в течение 30 дней с момента получения заказа</li>
                    <li>Товар должен сохранить товарный вид и все бирки</li>
                    <li>Обувь можно примерить только на чистом ковровом покрытии</li>
                    <li>Нижнее белье и купальники возврату не подлежат</li>
                </ul>
                
                <h3>Причины для возврата</h3>
                <ul>
                    <li>Не подошел размер, цвет или фасон</li>
                    <li>Обнаружен производственный брак</li>
                    <li>Товар не соответствует описания на сайте</li>
                    <li>Получен не тот товар</li>
                </ul>
                
                <h3>Процесс возврата</h3>
                <ol>
                    <li>Свяжитесь с нашей службой поддержки</li>
                    <li>Заполните заявление на возврат</li>
                    <li>Упакуйте товар в оригинальную упаковку</li>
                    <li>Отправьте товар нам или передайте курьеру</li>
                    <li>Получите refund в течение 3-10 рабочих дней</li>
                </ol>
                
                <h3>Стоимость возврата</h3>
                <ul>
                    <li>При возврате товара надлежащего качества стоимость доставки не возвращается</li>
                    <li>При возврате бракованного товара мы компенсируем все расходы</li>
                    <li>Возврат денежных средств осуществляется на ту же карту, с которой была произведена оплата</li>
                </ul>
                
                <h3>Обмен товара</h3>
                <p>Если вам не подошел размер или цвет, мы можем обменять товар на другой без дополнительной оплаты доставки.</p>
            </div>
        </div>
    </div>

    <script>
        // Глобальная переменная для отслеживания номера заказа
        let orderCounter = parseInt(localStorage.getItem('orderCounter')) || 1000;
        
        // Переменная для отслеживания текущей страницы
        let currentPage = 1;

        // Расширенные данные товаров с изображениями для каждого товара
        const products = [
            {
                id: 1,
                name: "Футболка Puma мужская",
                category: "mens",
                price: 3599,
                oldPrice: 3999,
                discount: 10,
                image: "https://static.street-beat.ru/upload/resize_cache/iblock/81e/666_666_1/28jujdmf0a8ua8bunfh9ax94npq8fewv.jpg",
                images: [
                    "https://static.street-beat.ru/upload/resize_cache/iblock/81e/666_666_1/28jujdmf0a8ua8bunfh9ax94npq8fewv.jpg",
                    "https://static.street-beat.ru/upload/resize_cache/iblock/be6/666_666_1/8jvnefwajkal6isfd2v5hvtb09jed632.jpg",
                    "https://static.street-beat.ru/upload/resize_cache/iblock/86d/666_666_1/oo3no4oauedn5my3s3bxif76jy4dbel2.jpg",
                    "https://static.street-beat.ru/upload/resize_cache/iblock/d1f/666_666_1/10em31vkwses5cjf3ekt9bxh3kgptet2.jpg"
                ],
                description: "Современная футболка из инновационного материала, который обеспечивает комфорт в любых условиях. Идеально подходит для активного образа жизни и повседневной носки.",
                fullDescription: "<p>Футболка Puma создана с использованием передовых технологий в текстильной промышленности. Она сочетает в себе стильный дизайн и функциональность.</p><p>Основные преимущества:</p><ul><li>Дышащий материал, обеспечивающий комфорт в любое время года</li><li>Антибактериальная пропитка, предотвращающая появление неприятных запахов</li><li>Устойчивость к деформации после многократных стирок</li><li>Экологичное производство</li></ul>",
                specifications: {
                    "Материал": "100% полиэстер",
                    "Цвет": "Черный",
                    "Страна производства": "Германия",
                    "Уход": "Машинная стирка при 30°C"
                },
                stock: 15
            },
            {
                id: 2,
                name: "Джинсы Levi's",
                category: "mens",
                price: 6799,
                oldPrice: 7999,
                discount: 15,
                image: "https://ir-3.ozone.ru/s3/multimedia-1-z/wc1000/7663205231.jpg",
                images: [
                    "https://ir-3.ozone.ru/s3/multimedia-1-z/wc1000/7663205231.jpg",
                    "https://ir-3.ozone.ru/s3/multimedia-1-3/wc1000/7663205199.jpg",
                    "https://ir-3.ozone.ru/s3/multimedia-1-b/wc1000/7663205207.jpg",
                    "https://ir-3.ozone.ru/s3/multimedia-1-j/wc1000/7663205215.jpg"
                ],
                description: "Стильные джинсы Levi's с современным кроем. Идеальное сочетание комфорта и стиля для повседневной носки.",
                fullDescription: "<p>Джинсы Levi's созданы для тех, кто ценит комфорт и стиль. Они изготовлены из высококачественного денима с добавлением эластана для идеальной посадки.</p><p>Особенности:</p><ul><li>Удобная посадка по фигуре</li><li>Прочный материал, устойчивый к износу</li><li>Современный дизайн</li><li>Подходят для любого случая</li></ul>",
                specifications: {
                    "Материал": "98% хлопок, 2% эластан",
                    "Цвет": "Синий",
                    "Страна производства": "Италия",
                    "Уход": "Машинная стирка при 40°C"
                },
                stock: 8
            },
            {
                id: 3,
                name: "Куртка Nike",
                category: "mens",
                price: 10999,
                oldPrice: 12999,
                discount: 15,
                image: "https://static.street-beat.ru/upload/resize_cache/iblock/0cb/666_666_1/4pdv2o6x1xt4tt01sb1gujidrz2yywvo.jpg",
                images: [
                    "https://static.street-beat.ru/upload/resize_cache/iblock/0cb/666_666_1/4pdv2o6x1xt4tt01sb1gujidrz2yywvo.jpg",
                    "https://static.street-beat.ru/upload/resize_cache/iblock/b0d/666_666_1/3nrv8urh62bj9pgbi0dc8kx79m9jofey.jpg",
                    "https://static.street-beat.ru/upload/resize_cache/iblock/6b5/666_666_1/p6jm2fmf0foqqhcamqsy2gkzn6z1igkw.jpg",
                     "https://static.street-beat.ru/upload/resize_cache/iblock/7aa/666_666_1/y9cjv45menae9m8ca33kj8aw6q34851m.jpg"
                ],
                description: "Инновационная куртка Nike с защитой от ветра и воды. Идеальный выбор для активного отдыха и городской среды.",
                fullDescription: "<p>Куртка Nike разработана с использованием передовых технологий в области текстиля. Она обеспечивает надежную защиту от непогоды, оставаясь при этом легкой и удобной.</p><p>Ключевые особенности:</p><ul><li>Водоотталкивающая пропитка</li><li>Ветрозащитные свойства</li><li>Дышащий материал</li><li>Современный дизайн</li></ul>",
                specifications: {
                    "Материал": "Нейлон с мембраной",
                    "Цвет": "Черный",
                    "Страна производства": "Швейцария",
                    "Уход": "Ручная стирка"
                },
                stock: 5
            },
            {
                id: 4,
                name: "Свитшот Adidas",
                category: "mens",
                price: 5099,
                oldPrice: 5999,
                discount: 15,
                image: "https://ir-3.ozone.ru/s3/multimedia-1-i/wc1000/8149790034.jpg",
                images: [
                    "https://ir-3.ozone.ru/s3/multimedia-1-i/wc1000/8149790034.jpg",
                    "https://ir-3.ozone.ru/s3/multimedia-1-6/wc1000/7722776310.jpg",
                    "https://ir-3.ozone.ru/s3/multimedia-1-c/wc1000/7722776316.jpg",
                     "https://ir-3.ozone.ru/s3/multimedia-1-l/wc1000/7722776325.jpg"
                ],
                description: "Стильный свитшот Adidas с капюшоном. Идеален для прохладной погоды и повседневной носки.",
                fullDescription: "<p>Свитшот Adidas сочетает в себе комфорт и современный дизайн. Изготовлен из мягкого флиса, который сохраняет тепло и обеспечивает комфорт в любую погоду.</p><p>Преимущества:</p><ul><li>Мягкий и теплый материал</li><li>Удобный капюшон</li><li>Современный дизайн</li><li>Прочный и долговечный</li></ul>",
                specifications: {
                    "Материал": "Флис",
                    "Цвет": "Черный",
                    "Страна производства": "Португалия",
                    "Уход": "Машинная стирка при 30°C"
                },
                stock: 12
            },
            {
                id: 5,
                name: "Платье Prada",
                category: "womens",
                price: 7999,
                oldPrice: 8999,
                discount: 11,
                image: "https://main-cdn.sbermegamarket.ru/big1/hlr-system/105/557/745/312/912/13/100028009058b0.jpg",
                images: [
                    "https://main-cdn.sbermegamarket.ru/big1/hlr-system/105/557/745/312/912/13/100028009058b0.jpg",
                    "https://main-cdn.sbermegamarket.ru/big2/hlr-system/105/557/745/424/134/5/100028009058b1.jpg",
                    "https://st-cdn.tsum.com/sig/d65553b799015027fac4c336c3a72bdc/width/763/i/07/d9/34/50/07d93450-def4-3703-a274-397c7e2ce748.jpg"
                ],
                description: "Элегантное платье Prada, которое подчеркнет вашу женственность. Идеально для вечерних выходов и особых мероприятий.",
                fullDescription: "<p>Платье Prada создано для современных женщин, ценящих стиль и комфорт. Оно выполнено из высококачественного материала, который приятен к телу и хорошо драпируется.</p><p>Особенности:</p><ul><li>Элегантный крой, подчеркивающий фигуру</li><li>Качественный материал, не требующий особого ухода</li><li>Универсальный дизайн для различных мероприятий</li><li>Доступно в нескольких цветах</li></ul>",
                specifications: {
                    "Материал": "Вискоза с эластаном",
                    "Цвет": "Черный",
                    "Страна производства": "Италия",
                    "Уход": "Ручная стирка при 30°C"
                },
                stock: 10
            },
            {
                id: 6,
                name: "Блузка Twinset женская",
                category: "womens",
                price: 4499,
                oldPrice: 4999,
                discount: 10,
                image: "https://twinset.ru/upload/iblock/489/489d3b2791c2f3434463c16f89d85154.jpg",
                images: [
                    "https://twinset.ru/upload/iblock/489/489d3b2791c2f3434463c16f89d85154.jpg",
                    "https://twinset.ru/upload/iblock/eb0/eb0746dc016f7b421cf922cf6c35a9f4.jpg",
                    "https://twinset.ru/upload/iblock/c09/c09086f093b1d920c2aedf41f0e29ce0.jpg",
                    "https://twinset.ru/upload/iblock/da6/da67ec2db1de4bcb849113e566a13036.jpg"
                ],
                description: "Стильная блузка из коллекции Twinset. Идеально сочетается с юбками и брюками для создания делового образа.",
                fullDescription: "<p>Блузка Twinset создана для современных деловых женщин. Она сочетает в себе элегантность и комфорт, позволяя чувствовать себя уверенно в любой ситуации.</p><p>Преимущества:</p><ul><li>Удобный крой, не сковывающий движения</li><li>Качественный материал, устойчивый к сминанию</li><li>Классический дизайн, актуальный в любое время</li><li>Подходит для офиса и повседневной носки</li></ul>",
                specifications: {
                    "Материал": "Хлопок с полиэстером",
                    "Цвет": "Черный",
                    "Страна производства": "Португалия",
                    "Уход": "Машинная стирка при 40°C"
                },
                stock: 15
            },
            {
                id: 7,
                name: "Юбка Juun.J",
                category: "womens",
                price: 5999,
                oldPrice: 6999,
                discount: 14,
                image: "https://staticswa.golden-line.ru/images/catalog/JW5827W055_chernyi/JW5827W055_chernyi_1.jpg?v=1762433757",
                images: [
                    "https://staticswa.golden-line.ru/images/catalog/JW5827W055_chernyi/JW5827W055_chernyi_1.jpg?v=1762433757",
                    "https://staticswa.golden-line.ru/images/catalog/JW5827W055_chernyi/JW5827W055_chernyi_2.jpg?v=1762433757",
                    "https://staticswa.golden-line.ru/images/catalog/JW5827W055_chernyi/JW5827W055_chernyi_3.jpg?v=1762433757",
                    "https://staticswa.golden-line.ru/images/catalog/JW5827W055_chernyi/JW5827W055_chernyi_4.jpg?v=1762433757"
                ],
                description: "Модная юбка Juun.J с современным принтом. Отлично подходит для создания стильных городских образов.",
                fullDescription: "<p>Юбка Juun.J - это сочетание современного дизайна и комфорта. Она выполнена из качественного материала с уникальным принтом, который выделит вас из толпы.</p><p>Особенности:</p><ul><li>Современный дизайн с уникальным принтом</li><li>Удобная длина и крой</li><li>Качественный материал, сохраняющий форму</li><li>Универсальность для создания различных образов</li></ul>",
                specifications: {
                    "Материал": "Полиэстер",
                    "Цвет": "Черный",
                    "Страна производства": "Турция",
                    "Уход": "Машинная стирка при 30°C"
                },
                stock: 12
            },
            {
                id: 8,
                name: "Костюм VASSA женский",
                category: "womens",
                price: 12999,
                oldPrice: 14999,
                discount: 13,
                image: "https://ba77b47c-88c1-44f2-87c2-1661d6cad36a.selcdn.net/media/products/2025/11/Vassa.31.10_1429.jpg",
                images: [
                    "https://ba77b47c-88c1-44f2/87c2-1661d6cad36a.selcdn.net/media/products/2025/11/Vassa.31.10_1429.jpg",
                    "https://ba77b47c-88c1-44f2/87c2-1661d6cad36a.selcdn.net/media/products/2025/11/Vassa.31.10_1358.jpg",
                    "https://ba77b47c-88c1-44f2/87c2-1661d6cad36a.selcdn.net/media/products/images/2025/11/Vassa.31.10_1305.jpg",
                    "https://ba77b47c-88c1-44f2/87c2-1661d6cad36a.selcdn.net/media/products/images/2025/11/Vassa.31.10_1407.jpg"
                ],
                description: "Элегантный костюм VASSA для деловых женщин. Сочетание стиля, комфорта и профессионализма.",
                fullDescription: "<p>Костюм VASSA создан для успешных женщин, ценящих качество и стиль. Он идеально сидит по фигуре и подчеркивает деловые качества своей обладательницы.</p><p>Преимущества:</p><ul><li>Идеальная посадка по фигуре</li><li>Качественный материал премиум-класса</li><li>Классический дизайн с современными элементами</li><li>Подходит для важных встреч и мероприятий</li></ul>",
                specifications: {
                    "Материал": "Шерсть с эластаном",
                    "Цвет": "Черный",
                    "Страна производства": "Италия",
                    "Уход": "Химчистка"
                },
                stock: 6
            },
            {
                id: 9,
                name: "Футболка Tom Tailor детская",
                category: "kids",
                price: 2099,
                oldPrice: 2499,
                discount: 16,
                image: "https://img.detmir.st/ktiPY65WRFoQpNZsYo0MlKHz7je9ozyB1_C9urMiQXc/rs:fit:700:700/g:sm/aHR0cHM6Ly9jYXRhbG9nLWNkbi5kZXRtaXIuc3QvbWVkaWEvNUd3TEtNMjRfallyQjVLVV9rbHBRNUZxQjMxNjN5TWV5RGZ6SzdzTDdFRT0uanBlZw.webp",
                images: [
                    "https://img.detmir.st/ktiPY65WRFoQpNZsYo0MlKHz7je9ozyB1_C9urMiQXc/rs:fit:700:700/g:sm/aHR0cHM6Ly9jYXRhbG9nLWNkbi5kZXRtaXIuc3QvbWVkaWEvNUd3TEtNMjRfallyQjVLVV9rbHBRNUZxQjMxNjN5TWV5RGZ6SzdzTDdFRT0uanBlZw.webp",
                    "https://img.detmir.st/ExQPtGimdmYdiGd20xvjIw-GB6s0fKb864aP7XeF7kg/rs:fit:700:700/g:sm/aHR0cHM6Ly9jYXRhbG9nLWNkbi5kZXRtaXIuc3QvbWVkaWEvZ2xXSU40V1JLMzlIWE1zZEQwalBQWHBKTC1PbGYyRmtJNVpoOUNqeERkZz0uanBlZw.webp",
                    "https://img.detmir.st/53PmYClFWD-QXB69JWcRqHIv-Y1sLi6432wnnWVMn8w/rs:fit:700:700/g:sm/aHR0cHM6Ly9jYXRhbG9nLWNkbi5kZXRtaXIuc3QvbWVkaWEvSEN6ejZDWjRFcm5fd29zb25OamJtZWpHUXcyODZMRzdyUG1qUlpsUGYyMD0uanBlZw.webp",
                    "https://img.detmir.st/wu2mJYdvMk12fTWxwChEaL3JYFiHs2c5lyaK8QPJJwo/rs:fit:700:700/g:sm/aHR0cHM6Ly9jYXRhbG9nLWNkbi5kZXRtaXIuc3QvbWVkaWEvVWkyWkJQSDJuem5uQ0tWUFByUi00elFRb1NhdTV4TjFkNm9BaEFycnBTOD0uanBlZw.webp"
                ],
                description: "Яркая и удобная футболка для детей. Изготовлена из гипоаллергенного материала, безопасного для детской кожи.",
                fullDescription: "<p>Детская футболка Tom Tailor создана с учетом особенностей детской кожи. Она мягкая, дышащая и не вызывает раздражения.</p><p>Особенности:</p><ul><li>Гипоаллергенный материал</li><li>Яркий дизайн с детскими принтами</li><li>Удобная посадка, не сковывающая движения</li><li>Прочная ткань, выдерживающая активные игры</li></ul>",
                specifications: {
                    "Материал": "100% хлопок",
                    "Цвет": "Голубой с принтом",
                    "Страна производства": "Россия",
                    "Уход": "Машинная стирка при 60°C"
                },
                stock: 25
            },
            {
                id: 10,
                name: "Джинсы Futurino детские",
                category: "kids",
                price: 3299,
                oldPrice: 3999,
                discount: 17,
                image: "https://img.detmir.st/zDXcPh0v5xsQCseZIq_tUt1lcRooC9AutOTvWylakUk/rs:fit:700:700/g:sm/aHR0cHM6Ly9jYXRhbG9nLWNkbi5kZXRtaXIuc3QvbWVkaWEvcFJmUkNON2c4aXVkZUJMR05Zck5Kd09JY0N6YmZNczFhbkd2cHl1Y3puQT0uanBlZw.webp",
                images: [
                    "https://img.detmir.st/zDXcPh0v5xsQCseZIq_tUt1lcRooC9AutOTvWylakUk/rs:fit:700:700/g:sm/aHR0cHM6Ly9jYXRhbG9nLWNkbi5kZXRtaXIuc3QvbWVkaWEvcFJmUkNON2c4aXVkZUJMR05Zck5Kd09JY0N6YmZNczFhbkd2cHl1Y3puQT0uanBlZw.webp",
                    "https://img.detmir.st/Ih2t7h-huAE5NSVURID7DDuSokgGLgA2h015FjBe1Cg/rs:fit:700:700/g:sm/aHR0cHM6Ly9jYXRhbG9nLWNkbi5kZXRtaXIuc3QvbWVkaWEvS3o4OVM0U0RXeU4zaVY4VDVhT1pzU3cxMDFxM2ZtOFUzTmI2TUtZQjREYz0uanBlZw.webp",
                    "https://img.detmir.st/oDgEaoUAJiZt7gzuWLKqh0kNp2Chn6LTp-kLMmAi45M/rs:fit:700:700/g:sm/aHR0cHM6Ly9jYXRhbG9nLWNkbi5kZXRtaXIuc3QvbWVkaWEvak9jWXA2d0ZkYWZMbS1NYzJBRGNOYmtNcFZQbjVOWGF0RU5fa2JqbGduYz0uanBlZw.webp",
                    "https://img.detmir.st/5s6shyPcZetCwOkOcOwQaUKrnqz___czdq6_V76jPU8/rs:fit:700:700/g:sm/aHR0cHM6Ly9jYXRhbG9nLWNkbi5kZXRtaXIuc3QvbWVkaWEvZ2JJWGhyWXlaV1R4cTl2dVBmTXBod2VZd3JsdHAwNmxvQzJJR09CcVNWdz0uanBlZw.webp"
                ],
                description: "Стильные джинсы для детей с удобным кроем. Идеальны для активного образа жизни и повседневной носки.",
                fullDescription: "<p>Детские джинсы Futurino созданы с учетом активного образа жизни детей. Они прочные, удобные и сохраняют свой вид после множества стирок.</p><p>Преимущества:</p><ul><li>Удобный крой, не сковывающий движения</li><li>Прочный материал, устойчивый к износу</li><li>Эластичная ткань для максимального комфорта</li><li>Безопасные для детской кожи материалы</li></ul>",
                specifications: {
                    "Материал": "98% хлопок, 2% эластан",
                    "Цвет": "Синий",
                    "Страна производства": "Россия",
                    "Уход": "Машинная стирка при 40°C"
                },
                stock: 18
            },
            {
                id: 11,
                name: "Куртка Котофей детская",
                category: "kids",
                price: 5599,
                oldPrice: 6999,
                discount: 20,
                image: "https://kotofey.ru/images/cms/thumbs/99eeeb2116ba82928bb6c54f648b6db017048550/1863c1e5527711ee8c00ac1f6bd8bc11_1e723f71527711ee8c00ac1f6bd8bc11_556_555_jpg_5_80.jpg",
                images: [
                    "https://kotofey.ru/images/cms/thumbs/99eeeb2116ba82928bb6c54f648b6db017048550/1863c1e5527711ee8c00ac1f6bd8bc11_1e723f71527711ee8c00ac1f6bd8bc11_556_555_jpg_5_80.jpg",
                    "https://kotofey.ru/images/cms/thumbs/99eeeb2116ba82928bb6c54f648b6db017048550/1863c1e5527711ee8c00ac1f6bd8bc11_1e723fa8527711ee8c00ac1f6bd8bc11_556_555_jpg_5_80.jpg",
                    "https://kotofey.ru/images/cms/thumbs/99eeeb2116ba82928bb6c54f648b6db017048550/1863c1e5527711ee8c00ac1f6bd8bc11_1e723fdf527711ee8c00ac1f6bd8bc11_556_555_jpg_5_80.jpg",
                    "https://kotofey.ru/images/cms/thumbs/99eeeb2116ba82928bb6c54f648b6db017048550/1863c1e5527711ee8c00ac1f6bd8bc11_1e724016527711ee8c00ac1f6bd8bc11_556_555_jpg_5_80.jpg"
                ],
                description: "Теплая и стильная куртка для детей. Защищает от ветра и холода, обеспечивая комфорт в любую погоду.",
                fullDescription: "<p>Детская куртка Котофей создана для активных детей, которые любят проводить время на свежем воздухе. Она надежно защищает от непогоды, оставаясь легкой и удобной.</p><p>Особенности:</p><ul><li>Водоотталкивающая пропитка</li><li>Теплый и дышащий материал</li><li>Удобные карманы для мелочей</li><li>Яркий дизайн, который нравится детям</li></ul>",
                specifications: {
                    "Материал": "Полиэстер с утеплителем",
                    "Цвет": "Красный",
                    "Страна производства": "Китай",
                    "Уход": "Машинная стирка при 30°C"
                },
                stock: 10
            },
            {
                id: 12,
                name: "Свитшот artie детский",
                category: "kids",
                price: 2799,
                oldPrice: 3499,
                discount: 20,
                image: "https://nsk-basket-cdn-07.geobasket.ru/vol4982/part498294/498294680/images/big/1.webp",
                images: [
                    "https://nsk-basket-cdn-07.geobasket.ru/vol4982/part498294/498294680/images/big/1.webp",
                    "https://nsk-basket-cdn-07.geobasket.ru/vol4982/part498294/498294680/images/big/2.webp",
                    "https://nsk-basket-cdn-07.geobasket.ru/vol4982/part498294/498294680/images/big/3.webp",
                    "https://nsk-basket-cdn-07.geobasket.ru/vol4982/part498294/498294680/images/big/4.webp"
                ],
                description: "Мягкий и теплый свитшот для детей. Идеален для прохладной погоды и повседневной носки.",
                fullDescription: "<p>Детский свитшот artie создан для комфорта и уюта. Он мягкий, теплый и не вызывает раздражения на детской коже.</p><p>Преимущества:</p><ul><li>Мягкий флисовый материал</li><li>Удобная посадка</li><li>Яркие цвета и веселые принты</li><li>Прочный, выдерживает многократные стирки</li></ul>",
                specifications: {
                    "Материал": "Флис",
                    "Цвет": "Белый",
                    "Страна производства": "Россия",
                    "Уход": "Машинная стирка при 40°C"
                },
                stock: 22
            },
            {
                id: 13,
                name: "Рюкзак Nike",
                category: "accessories",
                price: 4999,
                oldPrice: 5999,
                discount: 17,
                image: "https://static.street-beat.ru/upload/resize_cache/iblock/744/666_666_1/eap3l6f7hora2td6a2vecmo40z0c4ljp.jpg",
                images: [
                    "https://static.street-beat.ru/upload/resize_cache/iblock/744/666_666_1/eap3l6f7hora2td6a2vecmo40z0c4ljp.jpg",
                    "https://static.street-beat.ru/upload/resize_cache/iblock/033/666_666_1/00pxok5ciczm821sasmet173wce3xkwb.jpg",
                    "https://static.street-beat.ru/upload/resize_cache/iblock/d6b/666_666_1/xryk2w6wyqtv38nvl2kgbpb1vjszh6pe.jpg",
                    "https://static.street-beat.ru/upload/resize_cache/iblock/048/666_666_1/1crg1z8anyjvkvmqmhcsongcn44jexmm.jpg"
                ],
                description: "Стильный и функциональный рюкзак Nike. Идеально подходит для повседневного использования и путешествий.",
                fullDescription: "<p>Рюкзак Nike сочетает в себе современный дизайн и практичность. Он имеет несколько отделений для удобного хранения вещей и эргономичные лямки для комфортной переноски.</p><p>Особенности:</p><ul><li>Вместительное основное отделение</li><li>Карман для ноутбука до 15 дюймов</li><li>Водоотталкивающая пропитка</li><li>Эргономичные лямки с мягкой подкладкой</li></ul>",
                specifications: {
                    "Материал": "Нейлон",
                    "Цвет": "Черный",
                    "Размеры": "30x45x15 см",
                    "Страна производства": "Китай"
                },
                stock: 8
            },
            {
                id: 14,
                name: "Часы G-SHOCK",
                category: "accessories",
                price: 10999,
                oldPrice: 12999,
                discount: 15,
                image: "https://static.alltime.ru/obj/catalog/watch/casio/img/big/GA-2100-1AER.jpg",
                images: [
                    "https://static.alltime.ru/obj/catalog/watch/casio/img/big/GA-2100-1AER.jpg",
                    "https://static.alltime.ru/obj/catalog/watch/casio/img/big/GA-2100-1AER__1.jpg",
                    "https://static.alltime.ru/obj/catalog/watch/casio/img/big/GA-2100-1AER__4.jpg",
                    "https://static.alltime.ru/obj/catalog/watch/casio/img/big/GA-2100-1AER__5.jpg"
                ],
                description: "Современные умные часы с множеством функций. Отслеживают активность, уведомления и многое другое.",
                fullDescription: "<p>Часы G-SHOCK - это не просто аксессуар, а умное устройство, которое поможет вам в повседневной жизни. Они сочетают в себе стильный дизайн и передовые технологии.</p><p>Функции:</p><ul><li>Отслеживание физической активности</li><li>Уведомления о звонках и сообщениях</li><li>Мониторинг сна и пульса</li><li>Водонепроницаемость</li></ul>",
                specifications: {
                    "Тип": "Ударопрочные часы",
                    "Экран": "AMOLED 1.3\"",
                    "Автономность": "до 7 дней",
                    "Совместимость": "iOS, Android"
                },
                stock: 5
            },
            {
                id: 15,
                name: "Очки Uvex",
                category: "accessories",
                price: 6399,
                oldPrice: 7999,
                discount: 20,
                image: "https://cdn.sportmaster.ru/upload/mdm/media_content/resize/4c3/1008_800_e9d2/51540170299.jpg",
                images: [
                    "https://cdn.sportmaster.ru/upload/mdm/media_content/resize/4c3/1008_800_e9d2/51540170299.jpg",
                    "https://cdn.sportmaster.ru/upload/mdm/media_content/resize/4c8/1008_800_1a9e/51540180299.jpg",
                    "https://cdn.sportmaster.ru/upload/mdm/media_content/resize/6c0/1008_800_00ca/51540190299.jpg"
                ],
                description: "Стильные солнцезащитные очки с защитой от ультрафиолета. Подходят для городского стиля и отдыха.",
                fullDescription: "<p>Очки Uvex созданы для тех, кто ценит стиль и защиту глаз. Они обеспечивают 100% защиту от вредного ультрафиолетового излучения и имеют современный дизайн.</p><p>Преимущества:</p><ul><li>100% защита от UV-лучей</li><li>Прочные и легкие линзы</li><li>Стильная оправа из качественных материалов</li><li>Универсальный дизайн</li></ul>",
                specifications: {
                    "Тип": "Солнцезащитные очки",
                    "Защита": "UV400",
                    "Материал оправы": "Ацетат целлюлозы",
                    "Цвет линз": "Серый"
                },
                stock: 12
            },
            {
                id: 16,
                name: "Кошелек ALPAKA",
                category: "accessories",
                price: 3999,
                oldPrice: 4999,
                discount: 20,
                image: "https://static.insales-cdn.com/images/products/1/2319/546679055/zip-pouchv2_0000_HeroBlack_1020x1200.png",
                images: [
                    "https://static.insales-cdn.com/images/products/1/2319/546679055/zip-pouchv2_0000_HeroBlack_1020x1200.png",
                    "https://static.insales-cdn.com/images/products/1/2322/546679058/zip-pouchv2_0007_DSCF1218_1020x1200.jpg",
                    "https://static.insales-cdn.com/images/products/1/2321/546679057/zip-pouchv2_0006_DSCF1236_1020x1200.jpg",
                    "https://static.insales-cdn.com/images/products/1/2322/546679058/zip-pouchv2_0007_DSCF1218_1020x1200.jpg"
                ],
                description: "Компактный и функциональный кошелек из качественной кожи. Вмещает все необходимые карты и документы.",
                fullDescription: "<p>Кошелек ALPAKA - это идеальное сочетание стиля и функциональности. Он выполнен из качественной кожи и имеет продуманную организацию внутреннего пространства.</p><p>Особенности:</p><ul><li>Отделения для банковских карт</li><li>Прозрачное окошко для удостоверения личности</li><li>Отделение для купюр</li><li>Компактный размер</li></ul>",
                specifications: {
                    "Материал": "Натуральная кожа",
                    "Цвет": "Черный",
                    "Размеры": "10x8x1.5 см",
                    "Количество отделений": "8"
                },
                stock: 15
            },
            {
                id: 17,
                name: "Кепка Adidas",
                category: "hats",
                price: 2399,
                oldPrice: 2999,
                discount: 20,
                image: "https://static.street-beat.ru/upload/resize_cache/iblock/380/666_666_1/ry3fsqil64la4x8kmzzhedmzqnlmwzir.jpg",
                images: [
                    "https://static.street-beat.ru/upload/resize_cache/iblock/380/666_666_1/ry3fsqil64la4x8kmzzhedmzqnlmwzir.jpg",
                    "https://static.street-beat.ru/upload/resize_cache/iblock/c56/666_666_1/ge24gge1fgy1bmj0ptg77fi16d1e48xv.jpg",
                    "https://static.street-beat.ru/upload/resize_cache/iblock/f59/666_666_1/oo1ip3okv07t0wa71as26xzbljfwk6u2.jpg"
                ],
                description: "Стильная кепка Adidas с регулируемым ремешком. Защищает от солнца и дополняет образ.",
                fullDescription: "<p>Кепка Adidas - это не только защита от солнца, но и стильный аксессуар, который дополнит ваш образ. Она выполнена из качественного материала и имеет регулируемый ремешок для идеальной посадки.</p><p>Особенности:</p><ul><li>Качественный материал, сохраняющий форму</li><li>Регулируемый ремешок для комфортной посадки</li><li>Стильный дизайн с логотипом бренда</li><li>Подходит для мужчин и женщин</li></ul>",
                specifications: {
                    "Материал": "Хлопок",
                    "Цвет": "Черный",
                    "Регулировка": "Да",
                    "Страна производства": "Бангладеш"
                },
                stock: 20
            },
            {
                id: 18,
                name: "Бейсболка Nike",
                category: "hats",
                price: 1999,
                oldPrice: 2499,
                discount: 20,
                image: "https://a.lmcdn.ru/product/R/T/RTLAEK547401_28546884_3_v1_2x.jpg",
                images: [
                    "https://a.lmcdn.ru/product/R/T/RTLAEK547401_28546884_3_v1_2x.jpg",
                    "https://a.lmcdn.ru/product/R/T/RTLAEK547401_28583996_9_v1_2x.jpg",
                    "https://a.lmcdn.ru/product/R/T/RTLAEK547401_28546883_2_v1_2x.jpg",
                    "https://a.lmcdn.ru/product/R/T/RTLAEK547401_28546882_1_v1_2x.jpg"
                ],
                description: "Классическая бейсболка с современным дизайном. Идеальна для спортивного и повседневного стиля.",
                fullDescription: "<p>Бейсболка Nike сочетает в себе классический дизайн и современные тенденции. Она защищает от солнца и добавляет завершающий штрих к вашему образ.</p><p>Преимущества:</p><ul><li>Классический дизайн с современными элементами</li><li>Удобная посадка</li><li>Качественный материал</li><li>Универсальность</li></ul>",
                specifications: {
                    "Материал": "Хлопок",
                    "Цвет": "Черный",
                    "Регулировка": "Да",
                    "Страна производства": "Китай"
                },
                stock: 18
            },
            {
                id: 19,
                name: "Шапка HUGO",
                category: "hats",
                price: 2799,
                oldPrice: 3499,
                discount: 20,
                image: "https://ir-3.ozone.ru/s3/multimedia-1-r/wc1000/7669933443.jpg",
                images: [
                    "https://ir-3.ozone.ru/s3/multimedia-1-r/wc1000/7669933443.jpg",
                    "https://ir-3.ozone.ru/s3/multimedia-1-j/wc1000/7669933507.jpg",
                    "https://ir-3.ozone.ru/s3/multimedia-1-5/wc1000/7669933457.jpg",
                    "https://ir-3.ozone.ru/s3/multimedia-1-i/wc1000/7669933470.jpg"
                ],
                description: "Теплая и стильная шапка для холодной погоды. Сохраняет тепло и дополняет зимний образ.",
                fullDescription: "<p>Шапка HUGO создана для холодного времени года. Она мягкая, теплая и отлично сидит на голове, обеспечивая комфорт в любую погоду.</p><p>Особенности:</p><ul><li>Мягкий и теплый материал</li><li>Эластичная ткань для удобной посадки</li><li>Стильный дизайн</li><li>Подходит для мужчин и женщин</li></ul>",
                specifications: {
                    "Материал": "Шерсть с акрилом",
                    "Цвет": "Черный",
                    "Размер": "Универсальный",
                    "Страна производства": "Россия"
                },
                stock: 25
            },
            {
                id: 20,
                name: "Панама Reebok",
                category: "hats",
                price: 3199,
                oldPrice: 3999,
                discount: 20,
                image: "https://ir-3.ozone.ru/s3/multimedia-1-3/wc1000/8351276727.jpg",
                images: [
                    "https://ir-3.ozone.ru/s3/multimedia-1-3/wc1000/8351276727.jpg",
                    "https://ir-3.ozone.ru/s3/multimedia-1-b/wc1000/7935773375.jpg",
                    "https://ir-3.ozone.ru/s3/multimedia-1-z/wc1000/7935773399.jpg"
                ],
                description: "Элегантная панама для летнего сезона. Защищает от солнца и добавляет шарма вашему образ.",
                fullDescription: "<p>Панама Reebok - это классический летний аксессуар, который никогда не выходит из моды. Она обеспечивает надежную защиту от солнца и подчеркивает ваш стиль.</p><p>Преимущества:</p><ul><li>Широкие поля для максимальной защиты</li><li>Легкий и дышащий материал</li><li>Классический дизайн</li><li>Подходит для пляжа и городской среды</li></ul>",
                specifications: {
                    "Материал": "Хлопок",
                    "Цвет": "Черный",
                    "Размер": "Универсальный",
                    "Страна производства": "Эквадор"
                },
                stock: 12
            },
            // Новые товары для второй страницы (головные уборы)
            {
                id: 21,
                name: "Шапка New Era",
                category: "hats",
                price: 3499,
                oldPrice: 4299,
                discount: 19,
                image: "https://ir-3.ozone.ru/s3/multimedia-1-a/wc1000/6937178151.jpg",
                images: [
                    "https://ir-3.ozone.ru/s3/multimedia-1-a/wc1000/6937178151.jpg",
                    "https://ir-3.ozone.ru/s3/multimedia-1-8/wc1000/6937178178.jpg",
                    "https://ir-3.ozone.ru/s3/multimedia-1-7/wc1000/6937178195.jpg"
                ],
                description: "Стильная шапка New Era с фирменным логотипом. Идеально подходит для городского стиля.",
                fullDescription: "<p>Шапка New Era - это сочетание стиля и комфорта. Она изготовлена из качественных материалов и имеет классический дизайн с фирменным логотипом.</p><p>Особенности:</p><ul><li>Качественный материал</li><li>Классический дизайн</li><li>Фирменный логотип</li><li>Подходит для любого времени года</li></ul>",
                specifications: {
                    "Материал": "Шерсть с акрилом",
                    "Цвет": "Черный",
                    "Размер": "Универсальный",
                    "Страна производства": "США"
                },
                stock: 15
            },
            {
                id: 22,
                name: "Кепка Puma",
                category: "hats",
                price: 2199,
                oldPrice: 2799,
                discount: 21,
                image: "https://ir-3.ozone.ru/s3/multimedia-1-6/wc1000/6948817828.jpg",
                images: [
                    "https://ir-3.ozone.ru/s3/multimedia-1-6/wc1000/6948817828.jpg",
                    "https://ir-3.ozone.ru/s3/multimedia-1-8/wc1000/6948817845.jpg",
                    "https://ir-3.ozone.ru/s3/multimedia-1-7/wc1000/6948817862.jpg"
                ],
                description: "Спортивная кепка Puma с современным дизайном. Отлично подходит для активного образа жизни.",
                fullDescription: "<p>Кепка Puma создана для активных людей, которые ценят комфорт и стиль. Она имеет удобную посадку и современный дизайн.</p><p>Преимущества:</p><ul><li>Удобная посадка</li><li>Современный дизайн</li><li>Качественный материал</li><li>Подходит для спорта и повседневной носки</li></ul>",
                specifications: {
                    "Материал": "Хлопок",
                    "Цвет": "Черный",
                    "Регулировка": "Да",
                    "Страна производства": "Китай"
                },
                stock: 20
            },
            {
                id: 23,
                name: "Бейсболка Under Armour",
                category: "hats",
                price: 2599,
                oldPrice: 3199,
                discount: 19,
                image: "https://ir-3.ozone.ru/s3/multimedia-1-6/wc1000/6937178229.jpg",
                images: [
                    "https://ir-3.ozone.ru/s3/multimedia-1-6/wc1000/6937178229.jpg",
                    "https://ir-3.ozone.ru/s3/multimedia-1-8/wc1000/6937178246.jpg",
                    "https://ir-3.ozone.ru/s3/multimedia-1-7/wc1000/6937178263.jpg"
                ],
                description: "Функциональная бейсболка Under Armour для спорта и активного отдыха.",
                fullDescription: "<p>Бейсболка Under Armour создана для тех, кто ведет активный образ жизни. Она обеспечивает комфорт и защиту от солнца во время тренировок и прогулок.</p><p>Особенности:</p><ul><li>Функциональный дизайн</li><li>Защита от солнца</li><li>Удобная посадка</li><li>Подходит для спорта</li></ul>",
                specifications: {
                    "Материал": "Полиэстер",
                    "Цвет": "Черный",
                    "Регулировка": "Да",
                    "Страна производства": "Вьетнам"
                },
                stock: 18
            },
            {
                id: 24,
                name: "Панама Lacoste",
                category: "hats",
                price: 3899,
                oldPrice: 4599,
                discount: 15,
                image: "https://ir-3.ozone.ru/s3/multimedia-1-8/wc1000/6937178275.jpg",
                images: [
                    "https://ir-3.ozone.ru/s3/multimedia-1-8/wc1000/6937178275.jpg",
                    "https://ir-3.ozone.ru/s3/multimedia-1-7/wc1000/6937178292.jpg",
                    "https://ir-3.ozone.ru/s3/multimedia-1-6/wc1000/6937178309.jpg"
                ],
                description: "Элегантная панама Lacoste для летнего сезона. Стильный аксессуар для пляжа и города.",
                fullDescription: "<p>Панама Lacoste - это классический летний аксессуар, который подчеркнет ваш стиль. Она изготовлена из качественных материалов и имеет фирменный логотип.</p><p>Преимущества:</p><ul><li>Качественные материалы</li><li>Стильный дизайн</li><li>Фирменный логотип</li><li>Подходит для пляжа и города</li></ul>",
                specifications: {
                    "Материал": "Хлопок",
                    "Цвет": "Белый",
                    "Размер": "Универсальный",
                    "Страна производства": "Франция"
                },
                stock: 10
            }
        ];

        // Текущий товар в модальном окне
        let currentProduct = null;
        let selectedSize = 'M'; // По умолчанию выбран размер M
        let currentReviewRating = 0; // Текущий рейтинг для нового отзыва

        // Функция для загрузки дат доставки из localStorage
        function loadDeliveryDates() {
            const savedDeliveryDates = localStorage.getItem('productDeliveryDates');
            return savedDeliveryDates ? JSON.parse(savedDeliveryDates) : {};
        }

        // Функция для сохранения дат доставки в localStorage
        function saveDeliveryDates(deliveryDates) {
            localStorage.setItem('productDeliveryDates', JSON.stringify(deliveryDates));
        }

        // Функция для загрузки состояния товаров из localStorage
        function loadProductStocks() {
            const savedStocks = JSON.parse(localStorage.getItem('productStocks')) || {};
            products.forEach(product => {
                if (savedStocks[product.id] !== undefined) {
                    product.stock = savedStocks[product.id];
                }
            });
        }

        // Функция для сохранения состояния товаров в localStorage
        function saveProductStocks() {
            const savedStocks = {};
            products.forEach(product => {
                savedStocks[product.id] = product.stock;
            });
            localStorage.setItem('productStocks', JSON.stringify(savedStocks));
        }

        // Функция для генерации и сохранения даты доставки
        function generateAndSaveDeliveryDate(productId) {
            const deliveryDates = loadDeliveryDates();
            
            // Если дата уже сгенерирована для этого товара, возвращаем ее
            if (deliveryDates[productId]) {
                return deliveryDates[productId];
            }
            
            const today = new Date();
            const daysToAdd = Math.floor(Math.random() * 7) + 1; // От 1 до 7 дней
            const deliveryDate = new Date(today);
            deliveryDate.setDate(today.getDate() + daysToAdd);
            
            // Форматируем дату
            const day = deliveryDate.getDate();
            const month = deliveryDate.getMonth() + 1;
            
            const dateString = `${day} ${getMonthName(month)}`;
            
            // Сохраняем дату для этого товара
            deliveryDates[productId] = dateString;
            saveDeliveryDates(deliveryDates);
            
            return dateString;
        }
        
        // Функция для получения названия месяца
        function getMonthName(month) {
            const months = [
                'января', 'февраля', 'марта', 'апреля', 'мая', 'июня',
                'июля', 'августа', 'сентября', 'октября', 'ноября', 'декабря'
            ];
            return months[month - 1];
        }
        
        // Функция для обновления дат доставки на всех кнопках
        function updateDeliveryDates() {
            document.querySelectorAll('.delivery-date').forEach(element => {
                const productId = element.getAttribute('data-product-id');
                if (productId) {
                    element.textContent = generateAndSaveDeliveryDate(parseInt(productId));
                }
            });
        }

        // Функция для обновления отображения всех карточек товаров
        function updateAllProductCards() {
            products.forEach(product => {
                updateMainPageProductStock(product.id, product.stock);
            });
        }

        // Функция для переключения страниц товаров
        function changePage(pageNumber) {
            // Скрываем все страницы
            document.querySelectorAll('.product-page-container').forEach(page => {
                page.classList.add('hidden');
            });
            
            // Показываем выбранную страницу
            document.getElementById('page' + pageNumber).classList.remove('hidden');
            
            // Обновляем активную кнопку пагинации
            document.querySelectorAll('.page-button').forEach((button, index) => {
                if (index + 1 === pageNumber) {
                    button.classList.add('active');
                } else {
                    button.classList.remove('active');
                }
            });
            
            // Обновляем текущую страницу
            currentPage = pageNumber;
            
            // Обновляем даты доставки для видимых товаров
            updateDeliveryDates();
        }

        // Проверка авторизации пользователя
        function checkAuthStatus() {
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            const authButtons = document.getElementById('authButtons');
            const userProfile = document.getElementById('userProfile');
            const cartIcon = document.getElementById('cartIcon');
            const wishlistIcon = document.getElementById('wishlistIcon');
            const adminButtons = document.getElementById('adminButtons');
            
            if (currentUser) {
                // Пользователь авторизован
                if (authButtons) authButtons.style.display = 'none';
                if (userProfile) {
                    userProfile.style.display = 'flex';
                    document.getElementById('userName').textContent = currentUser.firstName;
                    
                    // Загружаем аватар пользователя
                    const userAvatar = document.getElementById('userAvatar');
                    if (currentUser.avatar) {
                        userAvatar.innerHTML = `<img src="${currentUser.avatar}" alt="Аватар">`;
                    } else {
                        userAvatar.textContent = currentUser.firstName.charAt(0);
                    }
                    
                    // Добавляем обработчик для перехода в профиль
                    userProfile.addEventListener('click', function() {
                        showModal('profileModal');
                    });
                }
                
                // Показываем кнопки администратора, если пользователь - администратор
                if (currentUser.isAdmin && adminButtons) {
                    adminButtons.style.display = 'flex';
                }
                
                // Показываем корзину и избранное
                if (cartIcon) cartIcon.style.display = 'block';
                if (wishlistIcon) wishlistIcon.style.display = 'block';
                
                // Убираем класс guest-mode
                document.body.classList.remove('guest-mode');
            } else {
                // Пользователь не авторизован
                if (authButtons) authButtons.style.display = 'block';
                if (userProfile) userProfile.style.display = 'none';
                if (adminButtons) adminButtons.style.display = 'none';
                
                // Скрываем корзину и избранное
                if (cartIcon) cartIcon.style.display = 'none';
                if (wishlistIcon) wishlistIcon.style.display = 'none';
                
                // Добавляем класс guest-mode
                document.body.classList.add('guest-mode');
            }
            
            // Обновляем счетчик корзины и избранного
            updateCartCount();
            updateWishlistCount();
        }

        // Функция для обновления счетчика корзины
        function updateCartCount() {
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            const cartCountElement = document.querySelector('.cart-count');
            
            if (cartCountElement) {
                const totalCount = cart.reduce((total, item) => total + item.quantity, 0);
                cartCountElement.textContent = totalCount;
            }
        }

        // Функция для обновления счетчика избранного
        function updateWishlistCount() {
            const wishlist = JSON.parse(localStorage.getItem('wishlist')) || [];
            const wishlistCountElement = document.querySelector('.wishlist-count');
            
            if (wishlistCountElement) {
                wishlistCountElement.textContent = wishlist.length;
            }
        }

        // Функция для обновления количества товара в наличии
        function updateProductStock(productId, quantity) {
            const product = products.find(p => p.id === productId);
            if (product) {
                product.stock -= quantity;
                if (product.stock < 0) product.stock = 0;
                
                // Сохраняем в localStorage
                saveProductStocks();

                // Обновляем отображение количества в модальном окне товара, если оно открыто
                if (currentProduct && currentProduct.id === productId) {
                    document.getElementById('stockInfo').textContent = `В наличии: ${product.stock} шт.`;
                    
                    // Если товар закончился, блокируем кнопку добавления в корзину
                    const addToCartBtn = document.querySelector('.add-to-cart-btn');
                    if (product.stock === 0) {
                        addToCartBtn.disabled = true;
                        addToCartBtn.textContent = 'Нет в наличии';
                        addToCartBtn.style.backgroundColor = '#ccc';
                        addToCartBtn.style.cursor = 'not-allowed';
                    } else {
                        addToCartBtn.disabled = false;
                        addToCartBtn.textContent = 'Добавить в корзину';
                        addToCartBtn.style.backgroundColor = '';
                        addToCartBtn.style.cursor = 'pointer';
                    }
                }
                
                // Обновляем отображение на главной странице
                updateMainPageProductStock(productId, product.stock);
            }
        }

        // Функция для обновления отображения количества на главной странице
        function updateMainPageProductStock(productId, stock) {
            const productCard = document.querySelector(`.product-card[data-id="${productId}"]`);
            if (productCard) {
                const addToCartBtn = productCard.querySelector('.add-to-cart');
                if (stock === 0) {
                    addToCartBtn.textContent = 'Нет в наличии';
                    addToCartBtn.disabled = true;
                    addToCartBtn.style.backgroundColor = '#ccc';
                    addToCartBtn.style.cursor = 'not-allowed';
                } else {
                    const deliveryDate = generateAndSaveDeliveryDate(productId);
                    addToCartBtn.innerHTML = `Доставка: <span class="delivery-date" data-product-id="${productId}">${deliveryDate}</span>`;
                    addToCartBtn.disabled = false;
                    addToCartBtn.style.backgroundColor = '';
                    addToCartBtn.style.cursor = 'pointer';
                }
            }
        }

        // Функция для обновления отображения корзины
        function updateCartDisplay() {
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            const cartItemsContainer = document.getElementById('cartItemsContainer');
            
            if (cartItemsContainer) {
                if (cart.length === 0) {
                    cartItemsContainer.innerHTML = `
                        <div class="empty-cart">
                            <div class="empty-cart-icon"><img src="img/корзина_розовая.svg" width="100px" alt="корзина"></div>
                            <h3 class="empty-cart-title">Ваша корзина пуста</h3>
                            <p class="empty-cart-text">Добавьте товары, чтобы сделать заказ</p>
                            <a href="#" onclick="showMainPage()" class="shop-now-button">Начать покупки</a>
                        </div>
                    `;
                } else {
                    cartItemsContainer.innerHTML = '';
                    
                    cart.forEach((item, index) => {
                        const cartItem = document.createElement('div');
                        cartItem.className = 'cart-item';
                        cartItem.innerHTML = `
                            <div class="item-image">
                                <img src="${item.image}" alt="${item.name}">
                            </div>
                            <div class="item-details">
                                <h3 class="item-name">${item.name}</h3>
                                <div class="item-price">${item.price} ₽</div>
                                <div class="item-options">
                                    <div class="item-option">Размер: ${item.size}</div>
                                </div>
                                <div class="item-quantity">
                                    <button class="quantity-btn" onclick="updateCartItemQuantity(${index}, -1)">-</button>
                                    <input type="text" class="quantity-input" value="${item.quantity}" readonly>
                                    <button class="quantity-btn" onclick="updateCartItemQuantity(${index}, 1)">+</button>
                                </div>
                                <div class="item-actions">
                                    <button class="action-button" onclick="removeFromCart(${index})">Удалить</button>
                                </div>
                            </div>
                        `;
                        cartItemsContainer.appendChild(cartItem);
                    });
                }
                
                // Обновляем итоговую стоимость
                updateCartSummary();
            }
        }

        // Функция для обновления отображения избранного
        function updateWishlistDisplay() {
            const wishlist = JSON.parse(localStorage.getItem('wishlist')) || [];
            const wishlistItemsContainer = document.getElementById('wishlistItemsContainer');
            
            if (wishlistItemsContainer) {
                if (wishlist.length === 0) {
                    wishlistItemsContainer.innerHTML = `
                        <div class="empty-wishlist">
                            <div class="empty-wishlist-icon"><img src="img/избранное_розовая.svg" width="100px" alt="избранное"></div>
                            <h3 class="empty-wishlist-title">Ваш список избранного пуст</h3>
                            <p class="empty-wishlist-text">Добавьте товары, чтобы они были всегда под рукой</p>
                            <a href="#" onclick="showMainPage()" class="shop-now-button">Начать покупки</a>
                        </div>
                    `;
                } else {
                    wishlistItemsContainer.innerHTML = '';
                    
                    wishlist.forEach((item, index) => {
                        const wishlistItem = document.createElement('div');
                        wishlistItem.className = 'wishlist-item';
                        wishlistItem.innerHTML = `
                            <div class="item-image">
                                <img src="${item.image}" alt="${item.name}">
                            </div>
                            <div class="item-details">
                                <h3 class="item-name">${item.name}</h3>
                                <div class="item-price">${item.price} ₽</div>
                                <div class="item-actions">
                                    <button class="action-button" onclick="addToCartFromWishlist(${item.id})">Добавить в корзину</button>
                                    <button class="action-button" onclick="removeFromWishlist(${index})">Удалить</button>
                                </div>
                            </div>
                        `;
                        wishlistItemsContainer.appendChild(wishlistItem);
                    });
                }
                
                // Обновляем счетчик избранного
                updateWishlistCount();
            }
        }

        // Функция для добавления товара в корзину из избранного
        function addToCartFromWishlist(productId) {
            const product = products.find(p => p.id === productId);
            
            if (product) {
                addToCart(product.id, 'M', 1); // По умолчанию размер M и количество 1
                alert(`Товар "${product.name}" добавлен в корзину!`);
            }
        }

        // Функция для обновления количества товара в корзине
        function updateCartItemQuantity(index, change) {
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            
            if (cart[index]) {
                const product = products.find(p => p.id === cart[index].id);
                
                if (product) {
                    const newQuantity = cart[index].quantity + change;
                    
                    // Проверяем, достаточно ли товара в наличии
                    if (newQuantity > product.stock) {
                        alert(`Извините, в наличии только ${product.stock} шт. этого товара.`);
                        return;
                    }
                    
                    cart[index].quantity = newQuantity;
                    
                    if (cart[index].quantity < 1) {
                        cart.splice(index, 1);
                    }
                    
                    localStorage.setItem('cart', JSON.stringify(cart));
                    updateCartDisplay();
                    updateCartCount();
                }
            }
        }

        // Функция для удаления товара из корзины
        function removeFromCart(index) {
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            
            if (cart[index]) {
                cart.splice(index, 1);
                localStorage.setItem('cart', JSON.stringify(cart));
                updateCartDisplay();
                updateCartCount();
            }
        }

        // Функция для удаления товара из избранного
        function removeFromWishlist(index) {
            const wishlist = JSON.parse(localStorage.getItem('wishlist')) || [];
            
            if (wishlist[index]) {
                wishlist.splice(index, 1);
                localStorage.setItem('wishlist', JSON.stringify(wishlist));
                updateWishlistDisplay();
                updateWishlistCount();
            }
        }

        // Функция для обновления итоговой стоимости в корзине
        function updateCartSummary() {
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            const itemsCount = cart.reduce((total, item) => total + item.quantity, 0);
            const itemsTotal = cart.reduce((total, item) => total + (item.price * item.quantity), 0);
            const deliveryCost = itemsTotal > 0 ? 500 : 0;
            const taxAmount = Math.round(itemsTotal * 0.1); // 10% налог
            const total = itemsTotal + deliveryCost + taxAmount;
            
            document.getElementById('cartItemsCount').textContent = itemsCount;
            document.getElementById('cartItemsTotal').textContent = `${itemsTotal} ₽`;
            document.getElementById('deliveryCost').textContent = `${deliveryCost} ₽`;
            document.getElementById('taxAmount').textContent = `${taxAmount} ₽`;
            document.getElementById('cartTotal').textContent = `${total} ₽`;
        }

        // Функция для отображения транзакций - ИСПРАВЛЕННАЯ ВЕРСИЯ
        // Функция для отображения транзакций - ИСПРАВЛЕННАЯ ВЕРСИЯ
function updateTransactionsDisplay() {
    const orders = JSON.parse(localStorage.getItem('orders')) || [];
    const transactionsContainer = document.getElementById('transactionsContainer');
    const users = JSON.parse(localStorage.getItem('users')) || [];
    
    if (transactionsContainer) {
        if (orders.length === 0) {
            transactionsContainer.innerHTML = `
                <div class="no-transactions">
                    <div class="no-transactions-icon"><img src="img/корзина_розовая.svg" width="100px" alt="транзакции"></div>
                    <h3 class="no-transactions-title">Нет транзакций</h3>
                    <p class="no-transactions-text">Пользователи еще не совершали покупки</p>
                </div>
            `;
        } else {
            let transactionsHTML = `
                <table class="transactions-table">
                    <thead>
                        <tr>
                            <th>ID заказа</th>
                            <th>Пользователь</th>
                            <th>Email</th>
                            <th>Дата</th>
                            <th>Товары</th>
                            <th>Сумма</th>
                            <th>Статус</th>
                        </tr>
                    </thead>
                    <tbody>
            `;
            
            // Сортируем заказы по дате (от новых к старым)
            const sortedOrders = orders.sort((a, b) => new Date(b.date) - new Date(a.date));
            
            sortedOrders.forEach(order => {
                // Находим пользователя по ID из заказа
                const user = users.find(u => u.id === order.userId);
                const userName = user ? `${user.firstName} ${user.lastName}` : 'Неизвестный пользователь';
                const userEmail = user ? user.email : 'Неизвестный email';
                
                const orderDate = new Date(order.date);
                const formattedDate = orderDate.toLocaleDateString('ru-RU', {
                    day: 'numeric',
                    month: 'long',
                    year: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                });
                
                const itemsList = order.items.map(item => 
                    `${item.name} (${item.size}) - ${item.quantity} шт.`
                ).join('<br>');
                
                transactionsHTML += `
                    <tr>
                        <td>#${order.id}</td>
                        <td>${userName}</td>
                        <td>${userEmail}</td>
                        <td>${formattedDate}</td>
                        <td>${itemsList}</td>
                        <td>${order.total}</td>
                        <td><span class="transaction-status status-completed">${order.status}</span></td>
                    </tr>
                `;
            });
            
            transactionsHTML += `
                    </tbody>
                </table>
            `;
            
            transactionsContainer.innerHTML = transactionsHTML;
        }
    }
}

        // Поиск товаров
        if (document.getElementById('searchInput')) {
            document.getElementById('searchInput').addEventListener('input', function(e) {
                const searchTerm = e.target.value.toLowerCase();
                const searchResults = document.getElementById('searchResults');
                
                if (searchTerm.length > 0) {
                    const filteredProducts = products.filter(product => 
                        product.name.toLowerCase().includes(searchTerm)
                    );
                    
                    if (filteredProducts.length > 0) {
                        searchResults.innerHTML = '';
                        filteredProducts.forEach(product => {
                            const resultItem = document.createElement('div');
                            resultItem.className = 'search-result-item';
                            resultItem.innerHTML = `
                                <img src="${product.image}" alt="${product.name}">
                                <div>
                                    <div>${product.name}</div>
                                    <div style="color: #98205E; font-weight: bold;">${product.price} ₽</div>
                                </div>
                            `;
                            resultItem.addEventListener('click', function() {
                                showProductModal(product.id);
                            });
                            searchResults.appendChild(resultItem);
                        });
                        searchResults.style.display = 'block';
                    } else {
                        searchResults.innerHTML = '<div class="search-result-item">Товары не найдены</div>';
                        searchResults.style.display = 'block';
                    }
                } else {
                    searchResults.style.display = 'none';
                }
            });

            // Закрытие результатов поиска при клике вне поля
            document.addEventListener('click', function(e) {
    const modalTrigger = e.target.closest('[data-modal]');
    if (modalTrigger) {
        e.preventDefault();
        const modalId = modalTrigger.getAttribute('data-modal');
        showModal(modalId);
    }
});
        }

        // Фильтрация по категориям
        function filterCategory(category) {
            showMainPage();
            setTimeout(() => {
                const element = document.getElementById(category);
                if (element) {
                    element.scrollIntoView({ behavior: 'smooth' });
                }
            }, 100);
        }

        // Функция для открытия модального окна выбора размера
        function openSizeModal(productId) {
            const product = products.find(p => p.id === productId);
            
            if (product) {
                document.getElementById('sizeModalImage').src = product.image;
                document.getElementById('sizeModalTitle').textContent = product.name;
                document.getElementById('sizeModalPrice').innerHTML = `
                    <div class="price-container">
                        <span class="current-price">${product.price} ₽</span>
                        <span class="old-price">${product.oldPrice} ₽</span>
                        <span class="discount-badge">-${product.discount}%</span>
                    </div>
                `;
                
                // Сбрасываем выбранный размер к значению по умолчанию
                selectedSize = 'M';
                document.querySelectorAll('#sizeModalOptions .size-option').forEach(option => {
                    option.classList.remove('selected');
                    if (option.textContent === 'M') {
                        option.classList.add('selected');
                    }
                });
                
                // Сбрасываем количество к 1
                document.getElementById('sizeModalQuantity').value = 1;
                
                // Сохраняем текущий товар
                currentProduct = product;
                
                // Показываем модальное окно
                showModal('sizeModal');
            }
        }

        // Функция для выбора размера в модальном окне
        function selectSizeInModal(element) {
            document.querySelectorAll('#sizeModalOptions .size-option').forEach(option => {
                option.classList.remove('selected');
            });
            element.classList.add('selected');
            selectedSize = element.textContent;
        }

        // Функция для изменения количества в модальном окне
        function increaseQuantityInModal() {
            const input = document.getElementById('sizeModalQuantity');
            input.value = parseInt(input.value) + 1;
        }

        function decreaseQuantityInModal() {
            const input = document.getElementById('sizeModalQuantity');
            if (parseInt(input.value) > 1) {
                input.value = parseInt(input.value) - 1;
            }
        }

        // Функция для добавления товара в корзину из модального окна выбора размера
        function addToCartFromSizeModal() {
            if (currentProduct) {
                const quantity = parseInt(document.getElementById('sizeModalQuantity').value);
                
                // Проверяем, достаточно ли товара в наличии
                if (quantity > currentProduct.stock) {
                    alert(`Извините, в наличии только ${currentProduct.stock} шт. этого товара.`);
                    return;
                }
                
                addToCart(currentProduct.id, selectedSize, quantity);
                closeModal('sizeModal');
            }
        }

        // Функция для добавления товара в корзину
        function addToCart(productId, size, quantity = 1) {
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            
            if (!currentUser) {
                alert('Для добавления товаров в корзину необходимо авторизоваться');
                showModal('loginModal');
                return;
            }
            
            const product = products.find(p => p.id === productId);
            
            if (product) {
                // Проверяем, достаточно ли товара в наличии
                if (quantity > product.stock) {
                    alert(`Извините, в наличии только ${product.stock} шт. этого товара.`);
                    return;
                }
                
                // Получаем текущую корзину из localStorage
                let cart = JSON.parse(localStorage.getItem('cart')) || [];
                
                // Проверяем, есть ли уже такой товар с таким же размером в корзине
                const existingItemIndex = cart.findIndex(item => 
                    item.id === productId && item.size === size
                );
                
                if (existingItemIndex !== -1) {
                    // Проверяем, не превысит ли новое количество общее количество в наличии
                    const newTotalQuantity = cart[existingItemIndex].quantity + quantity;
                    if (newTotalQuantity > product.stock) {
                        alert(`Извините, в наличии только ${product.stock} шт. этого товара. У вас уже ${cart[existingItemIndex].quantity} шт. в корзине.`);
                        return;
                    }
                    
                    // Увеличиваем количество существующего товара
                    cart[existingItemIndex].quantity += quantity;
                } else {
                    // Добавляем новый товар в корзину
                    cart.push({
                        id: product.id,
                        name: product.name,
                        price: product.price,
                        image: product.image,
                        size: size,
                        quantity: quantity
                    });
                }
                
                // Сохраняем обновленную корзину в localStorage
                localStorage.setItem('cart', JSON.stringify(cart));
                
                // Обновляем счетчик корзины
                updateCartCount();
                
                // Показываем уведомление
                alert(`Товар "${product.name}" (размер: ${size}) добавлен в корзину в количестве ${quantity} шт.!`);
            }
        }

        // Функция для добавления в корзину из модального окна товара
        function addToCartFromModal() {
            if (currentProduct) {
                const quantity = parseInt(document.getElementById('quantityInput').value);
                
                // Проверяем, достаточно ли товара в наличии
                if (quantity > currentProduct.stock) {
                    alert(`Извините, в наличии только ${currentProduct.stock} шт. этого товара.`);
                    return;
                }
                
                addToCart(currentProduct.id, selectedSize, quantity);
            }
        }

        // Функция для добавления/удаления из избранного из модального окна товара
        function toggleWishlistFromModal() {
            if (currentProduct) {
                toggleWishlist(currentProduct.id);
            }
        }

        // Функция для добавления/удаления товара в избранное
        function toggleWishlist(productId) {
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            
            if (!currentUser) {
                alert('Для добавления товаров в избранное необходимо авторизоваться');
                showModal('loginModal');
                return;
            }
            
            const product = products.find(p => p.id === productId);
            
            if (product) {
                // Получаем текущее избранное из localStorage
                let wishlist = JSON.parse(localStorage.getItem('wishlist')) || [];
                
                // Проверяем, есть ли уже такой товар в избранном
                const existingItemIndex = wishlist.findIndex(item => item.id === productId);
                
                if (existingItemIndex !== -1) {
                    // Удаляем товар из избранного
                    wishlist.splice(existingItemIndex, 1);
                    localStorage.setItem('wishlist', JSON.stringify(wishlist));
                    updateWishlistCount();
                    updateWishlistDisplay();
                    
                    // Обновляем кнопку в модальном окне товара
                    if (document.getElementById('wishlistBtn')) {
                        document.getElementById('wishlistBtn').textContent = 'В избранное';
                    }
                    
                    alert(`Товар "${product.name}" удален из избранного!`);
                } else {
                    // Добавляем товар в избранное
                    wishlist.push({
                        id: product.id,
                        name: product.name,
                        price: product.price,
                        image: product.image
                    });
                    
                    localStorage.setItem('wishlist', JSON.stringify(wishlist));
                    updateWishlistCount();
                    updateWishlistDisplay();
                    
                    // Обновляем кнопку в модальном окне товара
                    if (document.getElementById('wishlistBtn')) {
                        document.getElementById('wishlistBtn').textContent = 'В избранном';
                    }
                    
                    alert(`Товар "${product.name}" добавлен в избранное!`);
                }
            }
        }

        // Проверяем, находится ли товар в избранном
        function isInWishlist(productId) {
            const wishlist = JSON.parse(localStorage.getItem('wishlist')) || [];
            return wishlist.some(item => item.id === productId);
        }

// Показать модальное окно
let scrollPosition = 0;
function showModal(modalId) {
    
    // Сохраняем позицию скролла
    scrollPosition = window.pageYOffset;

    document.body.style.overflow = 'hidden';
    document.body.style.position = 'fixed';
    document.body.style.top = `-${scrollPosition}px`;
    document.body.style.width = '100%';
    
    document.getElementById(modalId).style.display = 'block';
    
const modalContent = document.querySelector(`#${modalId} .modal-content`);
    if (modalContent) {
        modalContent.style.overflowY = 'auto';
        modalContent.style.webkitOverflowScrolling = 'touch';
    }

    // Если открываем корзину, обновляем ее содержимое
    if (modalId === 'cartModal') {
        updateCartDisplay();
    }
    
    // Если открываем избранное, обновляем его содержимое
    if (modalId === 'wishlistModal') {
        updateWishlistDisplay();
    }
    
    // Если открываем профиль, инициализируем его
    if (modalId === 'profileModal') {
        initProfilePage();
    }
    
    // Если открываем транзакции, обновляем их
    if (modalId === 'transactionsModal') {
        updateTransactionsDisplay();
    }
}

// Закрыть модальное окно
function closeModal(modalId) {
    document.getElementById(modalId).style.display = 'none';
   // Разблокируем скролл body
    document.body.style.overflow = '';
    document.body.style.position = '';
    document.body.style.top = '';
    document.body.style.width = '';
     // Восстанавливаем позицию скролла
    window.scrollTo(0, scrollPosition);
}

        // Показать главную страницу
        function showMainPage() {
            document.getElementById('mainPage').style.display = 'block';
            document.querySelectorAll('.modal').forEach(modal => {
                modal.style.display = 'none';
            });
            document.body.style.overflow = 'auto';
        }

        // Прокрутка к секции
        function scrollToSection(sectionId) {
            showMainPage();
            setTimeout(() => {
                const element = document.getElementById(sectionId);
                if (element) {
                    element.scrollIntoView({ behavior: 'smooth' });
                }
            }, 100);
        }

        // Функция для показа модального окна товара
        function showProductModal(productId) {
            currentProduct = products.find(p => p.id === productId);
            if (currentProduct) {
                // Заполняем основную информацию о товаре
                document.getElementById('productTitle').textContent = currentProduct.name;
                document.getElementById('productPrice').innerHTML = `
                    <div class="price-container">
                        <span class="current-price">${currentProduct.price} ₽</span>
                        <span class="old-price">${currentProduct.oldPrice} ₽</span>
                        <span class="discount-badge">-${currentProduct.discount}%</span>
                    </div>
                `;
                document.getElementById('productDescription').innerHTML = `<p>${currentProduct.description}</p>`;
                document.getElementById('stockInfo').textContent = `В наличии: ${currentProduct.stock} шт.`;
                
                // Заполняем вкладку с описанием
                document.getElementById('descriptionTab').innerHTML = `<h3>Подробное описание</h3>${currentProduct.fullDescription}`;
                
                // Заполняем вкладку с характеристиками
                let specsHTML = '<h3>Технические характеристики</h3><table style="width: 100%; border-collapse: collapse;">';
                for (const [key, value] of Object.entries(currentProduct.specifications)) {
                    specsHTML += `
                        <tr>
                            <td style="padding: 10px; border-bottom: 1px solid #ddd; font-weight: bold;">${key}</td>
                            <td style="padding: 10px; border-bottom: 1px solid #ddd;">${value}</td>
                        </tr>
                    `;
                }
                specsHTML += '</table>';
                document.getElementById('specsTab').innerHTML = specsHTML;
                
                // Заполняем галерею изображений
                const mainImage = document.getElementById('mainImage');
                const thumbnailGallery = document.getElementById('thumbnailGallery');
                
                // Очищаем галерею миниатюр
                thumbnailGallery.innerHTML = '';
                
                // Добавляем изображения товара
                currentProduct.images.forEach((imageSrc, index) => {
                    const thumbnail = document.createElement('div');
                    thumbnail.className = `thumbnail ${index === 0 ? 'active' : ''}`;
                    thumbnail.innerHTML = `<img src="${imageSrc}" alt="Изображение товара ${index+1}" onclick="changeImage('${imageSrc}', this)">`;
                    thumbnailGallery.appendChild(thumbnail);
                    
                    // Устанавливаем первое изображение как основное
                    if (index === 0) {
                        mainImage.src = imageSrc;
                    }
                });
                
                // Сбрасываем выбранный размер к значению по умолчанию
                selectedSize = 'M';
                document.querySelectorAll('.size-option').forEach(option => {
                    option.classList.remove('selected');
                    if (option.textContent === 'M') {
                        option.classList.add('selected');
                    }
                });
                
                // Сбрасываем количество к 1
                document.getElementById('quantityInput').value = 1;
                
                // Обновляем кнопку избранного
                const wishlistBtn = document.getElementById('wishlistBtn');
                if (isInWishlist(currentProduct.id)) {
                    wishlistBtn.textContent = 'В избранном';
                } else {
                    wishlistBtn.textContent = 'В избранное';
                }
                
                // Обновляем кнопку добавления в корзину в зависимости от наличия
                const addToCartBtn = document.querySelector('.add-to-cart-btn');
                if (currentProduct.stock === 0) {
                    addToCartBtn.disabled = true;
                    addToCartBtn.textContent = 'Нет в наличии';
                    addToCartBtn.style.backgroundColor = '#ccc';
                    addToCartBtn.style.cursor = 'not-allowed';
                } else {
                    addToCartBtn.disabled = false;
                    addToCartBtn.textContent = 'Добавить в корзину';
                    addToCartBtn.style.backgroundColor = '';
                    addToCartBtn.style.cursor = 'pointer';
                }
                
                // Загружаем отзывы для этого товара
                loadProductReviews(currentProduct.id);
                
                // Показываем связанные товары
                showRelatedProducts(currentProduct.category, currentProduct.id);
                
                // Показываем модальное окно
                showModal('productModal');
            }
        }

        // Функция для смены основного изображения
        function changeImage(src, element) {
            document.getElementById('mainImage').src = src;
            
            // Убираем активный класс у всех миниатюр
            document.querySelectorAll('.thumbnail').forEach(thumb => {
                thumb.classList.remove('active');
            });
            
            // Добавляем активный класс к текущей миниатюре
            element.parentElement.classList.add('active');
        }

        // Функция для показа связанных товаров
        function showRelatedProducts(category, currentProductId) {
            const relatedProductsGrid = document.getElementById('relatedProductsGrid');
            relatedProductsGrid.innerHTML = '';
            
            // Находим товары из той же категории, исключая текущий товар
            const relatedProducts = products.filter(p => 
                p.category === category && p.id !== currentProductId
            ).slice(0, 4); // Берем максимум 4 товара
            
            if (relatedProducts.length === 0) {
                relatedProductsGrid.innerHTML = '<p>Нет связанных товаров</p>';
                return;
            }
            
            // Создаем карточки связанных товаров
            relatedProducts.forEach(product => {
                const deliveryDate = generateAndSaveDeliveryDate(product.id);
                const productCard = document.createElement('div');
                productCard.className = 'product-card';
                productCard.setAttribute('data-category', product.category);
                productCard.setAttribute('data-name', product.name);
                productCard.setAttribute('data-id', product.id);
                productCard.innerHTML = `
                    <div class="product-image">
                        <img src="${product.image}" alt="${product.name}">
                    </div>
                    <div class="product-info">
                        <h3 class="product-title">${product.name}</h3>
                        <div class="product-price">
                            <div class="price-container">
                                <span class="current-price">${product.price} ₽</span>
                                <span class="old-price">${product.oldPrice} ₽</span>
                                <span class="discount-badge">-${product.discount}%</span>
                            </div>
                        </div>
                        <button class="add-to-cart" onclick="event.stopPropagation(); openSizeModal(${product.id})">Доставка: <span class="delivery-date" data-product-id="${product.id}">${deliveryDate}</span></button>
                    </div>
                `;
                
                // Добавляем обработчик клика для перехода к товару
                productCard.addEventListener('click', function(e) {
                    if (!e.target.classList.contains('add-to-cart')) {
                        showProductModal(product.id);
                    }
                });
                
                relatedProductsGrid.appendChild(productCard);
            });
        }

        // Остальные функции для страницы товара
        function selectSize(element) {
            document.querySelectorAll('.size-option').forEach(option => {
                option.classList.remove('selected');
            });
            element.classList.add('selected');
            selectedSize = element.textContent;
        }
        
        function increaseQuantity() {
            const input = document.getElementById('quantityInput');
            input.value = parseInt(input.value) + 1;
        }
        
        function decreaseQuantity() {
            const input = document.getElementById('quantityInput');
            if (parseInt(input.value) > 1) {
                input.value = parseInt(input.value) - 1;
            }
        }
        
        function switchTab(index) {
            // Скрыть все вкладки
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // Убрать активный класс со всех вкладок
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Показать выбранную вкладку
            document.querySelectorAll('.tab-content')[index].classList.add('active');
            document.querySelectorAll('.tab')[index].classList.add('active');
        }

        // Функции для работы с отзывами
        function loadProductReviews(productId) {
            const reviews = JSON.parse(localStorage.getItem(`productReviews_${productId}`)) || [];
            const reviewsList = document.getElementById('reviewsList');
            const reviewFormContainer = document.getElementById('reviewFormContainer');
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            
            // Отображаем список отзывов
            if (reviews.length === 0) {
                reviewsList.innerHTML = '<div class="no-reviews">Пока нет отзывов об этом товаре. Будьте первым, кто оставит отзыв!</div>';
            } else {
                reviewsList.innerHTML = '';
                reviews.forEach((review, index) => {
                    const reviewItem = document.createElement('div');
                    reviewItem.className = 'review-item';
                    reviewItem.innerHTML = `
                        <div class="review-header">
                            <div class="review-user">${review.userName}</div>
                            <div class="review-date">${new Date(review.date).toLocaleDateString('ru-RU')}</div>
                        </div>
                        <div class="review-rating">
                            <div class="star-rating readonly">
                                ${generateStarRating(review.rating)}
                            </div>
                        </div>
                        <div class="review-comment">${review.comment}</div>
                        ${currentUser && currentUser.id === review.userId ? `
                            <div class="review-actions">
                          
                            </div>
                        ` : ''}
                    `;
                    reviewsList.appendChild(reviewItem);
                });
            }
            
            // Отображаем форму для добавления отзыва (только для авторизованных пользователей)
            if (currentUser) {
                const userReview = reviews.find(review => review.userId === currentUser.id);
                if (userReview) {
                    // Пользователь уже оставил отзыв
                    reviewFormContainer.innerHTML = `
                        <div class="review-form">
                            <h3>Ваш отзыв</h3>
                            <div class="review-rating">
                                <div class="star-rating readonly">
                                    ${generateStarRating(userReview.rating)}
                                </div>
                            </div>
                            <div class="review-comment">${userReview.comment}</div>
                            <div class="review-actions">
                                <button class="review-action-btn" onclick="editReview(${productId}, ${reviews.findIndex(r => r.userId === currentUser.id)})">Редактировать</button>
                                <button class="review-action-btn" onclick="deleteReview(${productId}, ${reviews.findIndex(r => r.userId === currentUser.id)})">Удалить</button>
                            </div>
                        </div>
                    `;
                } else {
                    // Пользователь еще не оставлял отзыв
                    reviewFormContainer.innerHTML = `
                        <div class="review-form">
                            <h3>Оставить отзыв</h3>
                            <div class="rating-selector">
                                <label>Оценка:</label>
                                <div class="star-rating" id="starRating">
                                    <span class="star" data-rating="1">★</span>
                                    <span class="star" data-rating="2">★</span>
                                    <span class="star" data-rating="3">★</span>
                                    <span class="star" data-rating="4">★</span>
                                    <span class="star" data-rating="5">★</span>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="reviewComment" class="form-label">Комментарий</label>
                                <textarea id="reviewComment" class="form-input" placeholder="Напишите ваш отзыв..." rows="4"></textarea>
                            </div>
                            <button class="auth-button" onclick="submitReview(${productId})">Оставить отзыв</button>
                        </div>
                    `;
                    
                    // Добавляем обработчики для звезд рейтинга
                    document.querySelectorAll('#starRating .star').forEach(star => {
                        star.addEventListener('click', function() {
                            const rating = parseInt(this.getAttribute('data-rating'));
                            setStarRating(rating);
                        });
                        
                        star.addEventListener('mouseover', function() {
                            const rating = parseInt(this.getAttribute('data-rating'));
                            highlightStars(rating);
                        });
                    });
                    
                    document.getElementById('starRating').addEventListener('mouseleave', function() {
                        highlightStars(currentReviewRating);
                    });
                }
            } else {
                reviewFormContainer.innerHTML = `
                    <div class="review-form">
                        <h3>Оставить отзыв</h3>
                        <p>Для того чтобы оставить отзыв, необходимо <a href="#" onclick="closeModal('productModal'); showModal('loginModal')">авторизоваться</a>.</p>
                    </div>
                `;
            }
        }

        function generateStarRating(rating) {
            let stars = '';
            for (let i = 1; i <= 5; i++) {
                stars += `<span class="star ${i <= rating ? 'active' : ''}">★</span>`;
            }
            return stars;
        }

        function setStarRating(rating) {
            currentReviewRating = rating;
            highlightStars(rating);
        }

        function highlightStars(rating) {
            document.querySelectorAll('#starRating .star').forEach((star, index) => {
                if (index < rating) {
                    star.classList.add('active');
                } else {
                    star.classList.remove('active');
                }
            });
        }

        function submitReview(productId) {
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            const comment = document.getElementById('reviewComment').value.trim();
            
            if (!currentUser) {
                alert('Для оставления отзыва необходимо авторизоваться');
                return;
            }
            
            if (currentReviewRating === 0) {
                alert('Пожалуйста, поставьте оценку');
                return;
            }
            
            if (!comment) {
                alert('Пожалуйста, напишите комментарий');
                return;
            }
            
            const reviews = JSON.parse(localStorage.getItem(`productReviews_${productId}`)) || [];
            
            // Проверяем, не оставлял ли пользователь уже отзыв
            if (reviews.some(review => review.userId === currentUser.id)) {
                alert('Вы уже оставляли отзыв на этот товар');
                return;
            }
            
            const newReview = {
                id: Date.now(),
                userId: currentUser.id,
                userName: currentUser.firstName + ' ' + currentUser.lastName,
                rating: currentReviewRating,
                comment: comment,
                date: new Date().toISOString()
            };
            
            reviews.push(newReview);
            localStorage.setItem(`productReviews_${productId}`, JSON.stringify(reviews));
            
            // Обновляем отображение отзывов
            loadProductReviews(productId);
            
            alert('Спасибо за ваш отзыв!');
        }

        function editReview(productId, reviewIndex) {
            const reviews = JSON.parse(localStorage.getItem(`productReviews_${productId}`)) || [];
            const review = reviews[reviewIndex];
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            
            if (!currentUser || currentUser.id !== review.userId) {
                alert('Вы не можете редактировать этот отзыв');
                return;
            }
            
            const reviewItem = document.querySelectorAll('.review-item')[reviewIndex];
            reviewItem.innerHTML = `
                <div class="review-edit-form">
                    <h4>Редактирование отзыва</h4>
                    <div class="rating-selector">
                        <label>Оценка:</label>
                        <div class="star-rating" id="editStarRating">
                            <span class="star ${review.rating >= 1 ? 'active' : ''}" data-rating="1">★</span>
                            <span class="star ${review.rating >= 2 ? 'active' : ''}" data-rating="2">★</span>
                            <span class="star ${review.rating >= 3 ? 'active' : ''}" data-rating="3">★</span>
                            <span class="star ${review.rating >= 4 ? 'active' : ''}" data-rating="4">★</span>
                            <span class="star ${review.rating >= 5 ? 'active' : ''}" data-rating="5">★</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="editReviewComment" class="form-label">Комментарий</label>
                        <textarea id="editReviewComment" class="form-input" rows="4">${review.comment}</textarea>
                    </div>
                    <div class="review-actions">
                        <button class="auth-button" onclick="saveEditedReview(${productId}, ${reviewIndex})">Сохранить</button>
                        <button class="review-action-btn" onclick="loadProductReviews(${productId})">Отмена</button>
                    </div>
                </div>
            `;
            
            // Устанавливаем текущий рейтинг для редактирования
            currentReviewRating = review.rating;
            
            // Добавляем обработчики для звезд рейтинга в форме редактирования
            document.querySelectorAll('#editStarRating .star').forEach(star => {
                star.addEventListener('click', function() {
                    const rating = parseInt(this.getAttribute('data-rating'));
                    currentReviewRating = rating;
                    highlightEditStars(rating);
                });
            });
        }

        function highlightEditStars(rating) {
            document.querySelectorAll('#editStarRating .star').forEach((star, index) => {
                if (index < rating) {
                    star.classList.add('active');
                } else {
                    star.classList.remove('active');
                }
            });
        }

        function saveEditedReview(productId, reviewIndex) {
            const reviews = JSON.parse(localStorage.getItem(`productReviews_${productId}`)) || [];
            const comment = document.getElementById('editReviewComment').value.trim();
            
            if (currentReviewRating === 0) {
                alert('Пожалуйста, поставьте оценку');
                return;
            }
            
            if (!comment) {
                alert('Пожалуйста, напишите комментарий');
                return;
            }
            
            reviews[reviewIndex].rating = currentReviewRating;
            reviews[reviewIndex].comment = comment;
            reviews[reviewIndex].date = new Date().toISOString();
            
            localStorage.setItem(`productReviews_${productId}`, JSON.stringify(reviews));
            
            // Обновляем отображение отзывов
            loadProductReviews(productId);
            
            alert('Отзыв успешно обновлен!');
        }

        function deleteReview(productId, reviewIndex) {
            if (!confirm('Вы уверены, что хотите удалить этот отзыв?')) {
                return;
            }
            
            const reviews = JSON.parse(localStorage.getItem(`productReviews_${productId}`)) || [];
            reviews.splice(reviewIndex, 1);
            localStorage.setItem(`productReviews_${productId}`, JSON.stringify(reviews));
            
            // Обновляем отображение отзывов
            loadProductReviews(productId);
            
            alert('Отзыв успешно удален!');
        }

        // Функции для страницы корзины
        function updateQuantity(button, change) {
            const input = button.parentElement.querySelector('.quantity-input');
            let value = parseInt(input.value);
            value += change;
            if (value < 1) value = 1;
            input.value = value;
            
            // В реальном приложении здесь будет обновление общей стоимости
            updateCartTotal();
        }
        
        function updateCartTotal() {
            // В реальном приложении здесь будет пересчет общей стоимости
            console.log('Корзина обновлена');
        }

        // Функции для страницы профиля
        function initProfilePage() {
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            
            if (!currentUser) {
                showModal('loginModal');
                return;
            }
            
            // Заполняем данные профиля
            document.getElementById('profileFirstName').value = currentUser.firstName || '';
            document.getElementById('profileLastName').value = currentUser.lastName || '';
            document.getElementById('profileEmail').value = currentUser.email || '';
            document.getElementById('profilePhone').value = currentUser.phone || '';
            document.getElementById('profileAddress').value = currentUser.address || '';
            
            // Загружаем аватар пользователя
            const profileAvatar = document.getElementById('profileAvatar');
            if (currentUser.avatar) {
                profileAvatar.innerHTML = `<img src="${currentUser.avatar}" alt="Аватар">`;
            } else {
                profileAvatar.textContent = currentUser.firstName ? currentUser.firstName.charAt(0) : 'П';
            }
            
            document.getElementById('userAvatar').textContent = currentUser.firstName ? currentUser.firstName.charAt(0) : 'П';
            document.getElementById('userName').textContent = currentUser.firstName || 'Пользователь';
            
            // Загружаем истории заказов
            loadOrderHistory();
            
            // Обработчик изменения аватара
            document.getElementById('avatarInput').addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(event) {
                        const avatarDataUrl = event.target.result;
                        
                        // Обновляем аватар в профиле
                        profileAvatar.innerHTML = `<img src="${avatarDataUrl}" alt="Аватар">`;
                        
                        // Обновляем аватар в шапке
                        const userAvatar = document.getElementById('userAvatar');
                        userAvatar.innerHTML = `<img src="${avatarDataUrl}" alt="Аватар">`;
                        
                        // Сохраняем аватар в данных пользователя
                        const updatedUser = {
                            ...currentUser,
                            avatar: avatarDataUrl
                        };
                        
                        localStorage.setItem('currentUser', JSON.stringify(updatedUser));
                        
                        // Обновляем пользователя в списке пользователей
                        const users = JSON.parse(localStorage.getItem('users')) || [];
                        const userIndex = users.findIndex(u => u.id === currentUser.id);
                        if (userIndex !== -1) {
                            users[userIndex] = updatedUser;
                            localStorage.setItem('users', JSON.stringify(users));
                        }
                        
                        alert('Аватар успешно обновлен!');
                    };
                    reader.readAsDataURL(file);
                }
            });
            
            // Обработчик сохранения профиля
            document.getElementById('saveProfile').addEventListener('click', function() {
                const updatedUser = {
                    ...currentUser,
                    firstName: document.getElementById('profileFirstName').value,
                    lastName: document.getElementById('profileLastName').value,
                    email: document.getElementById('profileEmail').value,
                    phone: document.getElementById('profilePhone').value,
                    address: document.getElementById('profileAddress').value
                };
                
                // Валидация email
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (!emailRegex.test(updatedUser.email)) {
                    alert('Пожалуйста, введите корректный email!');
                    return;
                }
                
                // Обновляем текущего пользователя
                localStorage.setItem('currentUser', JSON.stringify(updatedUser));
                
                // Обновляем пользователя в списке пользователей
                const users = JSON.parse(localStorage.getItem('users')) || [];
                const userIndex = users.findIndex(u => u.id === currentUser.id);
                if (userIndex !== -1) {
                    users[userIndex] = updatedUser;
                    localStorage.setItem('users', JSON.stringify(users));
                }
                
                // Обновляем отображение в шапке
                document.getElementById('userName').textContent = updatedUser.firstName;
                document.getElementById('userAvatar').textContent = updatedUser.firstName.charAt(0);
                
                alert('Профиль успешно обновлен!');
            });
            
            // Обработчик смены пароля
            document.getElementById('changePassword').addEventListener('click', function() {
                const currentPassword = document.getElementById('currentPassword').value;
                const newPassword = document.getElementById('newPassword').value;
                const confirmNewPassword = document.getElementById('confirmNewPassword').value;
                
                if (!currentPassword || !newPassword || !confirmNewPassword) {
                    alert('Пожалуйста, заполните все поля!');
                    return;
                }
                
                if (currentPassword !== currentUser.password) {
                    alert('Текущий пароль введен неверно');
                    return;
                }
                
                if (newPassword !== confirmNewPassword) {
                    alert('Новые пароли не совпадают');
                    return;
                }
                
                const updatedUser = {
                    ...currentUser,
                    password: newPassword
                };
                
                // Обновляем текущего пользователя
                localStorage.setItem('currentUser', JSON.stringify(updatedUser));
                
                // Обновляем пользователя в списке пользователей
                const users = JSON.parse(localStorage.getItem('users')) || [];
                const userIndex = users.findIndex(u => u.id === currentUser.id);
                if (userIndex !== -1) {
                    users[userIndex] = updatedUser;
                    localStorage.setItem('users', JSON.stringify(users));
                }
                
                alert('Пароль успешно изменен!');
                
                // Очищаем поля
                document.getElementById('currentPassword').value = '';
                document.getElementById('newPassword').value = '';
                document.getElementById('confirmNewPassword').value = '';
            });
            
            // Навигация по профилю
            document.querySelectorAll('.profile-menu a').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const target = this.getAttribute('data-target');
                    
                    if (!target) return; // Для ссылки "Выйти" нет data-target
                    
                    // Убираем активный класс у всех ссылок
                    document.querySelectorAll('.profile-menu a').forEach(item => {
                        item.classList.remove('active');
                    });
                    
                    // Добавляем активный класс к текущей ссылке
                    this.classList.add('active');
                    
                    // Скрываем все секции
                    document.querySelectorAll('.profile-section').forEach(section => {
                        section.classList.remove('active');
                    });
                    
                    // Показываем целевую секцию
                    document.getElementById(target).classList.add('active');
                });
            });
        }

        // Функция для загрузки истории заказов - ИСПРАВЛЕННАЯ ВЕРСИЯ
        // Функция для загрузки истории заказов - ИСПРАВЛЕННАЯ ВЕРСИЯ
function loadOrderHistory() {
    const currentUser = JSON.parse(localStorage.getItem('currentUser'));
    const orders = JSON.parse(localStorage.getItem('orders')) || [];
    const container = document.getElementById('orderHistoryContainer');
    
    // Фильтруем заказы только текущего пользователя
    const userOrders = orders.filter(order => order.userId === currentUser.id);
    
    if (userOrders.length === 0) {
        container.innerHTML = '<p>У вас пока нет заказов.</p>';
        return;
    }
    
    // Сортируем заказы по дате (от новых к старым)
    userOrders.sort((a, b) => new Date(b.date) - new Date(a.date));
    
    container.innerHTML = userOrders.map(order => {
        const orderDate = new Date(order.date);
        const formattedDate = orderDate.toLocaleDateString('ru-RU', {
            day: 'numeric',
            month: 'long',
            year: 'numeric',
            hour: '2-digit',
            minute: '2-digit'
        });
        
        const itemsList = order.items.map(item => 
            `${item.name} (размер: ${item.size}) - ${item.quantity} шт. x ${item.price} ₽`
        ).join('<br>');
        
        return `
            <div class="order-item">
                <div class="order-header">
                    <span class="order-date">${formattedDate}</span>
                    <span class="order-status">${order.status}</span>
                </div>
                <div class="order-details">
                    <p><strong>Заказ #${order.id}</strong></p>
                    <p>${itemsList}</p>
                    <p><strong>Итого: ${order.total} ₽</strong></p>
                </div>
            </div>
        `;
    }).join('');
}

        // Функции для страницы корзины
        function initCartPage() {
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            
            if (!currentUser) {
                showModal('loginModal');
                return;
            }
            
            // Заполняем контактные данные
            document.getElementById('checkoutEmail').value = currentUser.email || '';
            document.getElementById('checkoutPhone').value = currentUser.phone || '';
            document.getElementById('checkoutAddress').value = currentUser.address || '';
            
            // Обработчик оформления заказа
            document.getElementById('checkoutForm').addEventListener('submit', function(e) {
                e.preventDefault();
                
                const email = document.getElementById('checkoutEmail').value;
                const phone = document.getElementById('checkoutPhone').value;
                const address = document.getElementById('checkoutAddress').value;
                
                if (!email || !phone || !address) {
                    alert('Пожалуйста, заполните все контактные данные');
                    return;
                }
                
                // Получаем текущую корзину
                const cart = JSON.parse(localStorage.getItem('cart')) || [];
                
                if (cart.length === 0) {
                    alert('Ваша корзина пуста!');
                    return;
                }
                
                // Проверяем наличие товаров перед оформлением заказа
                for (const item of cart) {
                    const product = products.find(p => p.id === item.id);
                    if (!product || product.stock < item.quantity) {
                        alert(`Товар "${item.name}" недоступен в запрошенном количестве. В наличии: ${product ? product.stock : 0} шт.`);
                        return;
                    }
                }
                
                // Создаем заказ с правильным ID и userId
                const orderId = orderCounter++;
                localStorage.setItem('orderCounter', orderCounter);
                
                const order = {
                    id: orderId,
                    date: new Date().toISOString(),
                    items: [...cart], // копируем корзину
                    total: document.getElementById('cartTotal').textContent,
                    status: 'Оформлен',
                    userId: currentUser.id // добавляем ID пользователя
                };
                
                // Обновляем количество товаров в наличии
                cart.forEach(cartItem => {
                    updateProductStock(cartItem.id, cartItem.quantity);
                });
                
                // Получаем текущие заказы из localStorage
                let orders = JSON.parse(localStorage.getItem('orders')) || [];
                // Добавляем новый заказ
                orders.push(order);
                // Сохраняем обратно в localStorage
                localStorage.setItem('orders', JSON.stringify(orders));
                
                // Обновляем данные пользователя
                const updatedUser = {
                    ...currentUser,
                    email: email,
                    phone: phone,
                    address: address
                };
                
                localStorage.setItem('currentUser', JSON.stringify(updatedUser));
                
                // В реальном приложении здесь была бы отправка данных на сервер
                alert(`Заказ #${orderId} успешно оформлен! С вами свяжутся для подтверждения.`);
                
                // Очищаем корзину
                localStorage.removeItem('cart');
                updateCartCount();
                updateCartDisplay();
                
                // Закрываем модальное окно
                closeModal('cartModal');
            });
        }

        // Функции для страницы авторизации
        function initLoginPage() {
            document.getElementById('loginForm').addEventListener('submit', function(e) {
                e.preventDefault();
                
                const email = document.getElementById('loginEmail').value;
                const password = document.getElementById('loginPassword').value;
                
                // Валидация полей
                if (!email || !password) {
                    alert('Пожалуйста, заполните все поля!');
                    return;
                }
                
                // Получаем пользователей из localStorage
                const users = JSON.parse(localStorage.getItem('users')) || [];
                
                // Ищем пользователя с таким email и паролем
                const user = users.find(u => u.email === email && u.password === password);
                
                if (user) {
                    // Сохраняем текущего пользователя
                    localStorage.setItem('currentUser', JSON.stringify(user));
                    alert('Вход выполнен успешно!');
                    closeModal('loginModal');
                    checkAuthStatus();
                } else {
                    alert('Неверный email или пароль');
                }
            });
        }

        // Функции для страницы регистрации
        function initRegisterPage() {
            document.getElementById('registrationForm').addEventListener('submit', function(e) {
                e.preventDefault();
                
                const firstName = document.getElementById('firstName').value;
                const lastName = document.getElementById('lastName').value;
                const email = document.getElementById('regEmail').value;
                const password = document.getElementById('regPassword').value;
                const confirmPassword = document.getElementById('confirmPassword').value;
                
                // Валидация полей
                if (!firstName || !lastName || !email || !password || !confirmPassword) {
                    alert('Пожалуйста, заполните все поля!');
                    return;
                }
                
                if (password !== confirmPassword) {
                    alert('Пароли не совпадают!');
                    return;
                }
                
                // Простая валидация email
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (!emailRegex.test(email)) {
                    alert('Пожалуйста, введите корректный email!');
                    return;
                }
                
                // Получаем пользователей из localStorage
                const users = JSON.parse(localStorage.getItem('users')) || [];
                
                // Проверяем, нет ли уже пользователя с таким email
                if (users.find(u => u.email === email)) {
                    alert('Пользователь с таким email уже зарегистрирован');
                    return;
                }
                
                // Создаем нового пользователя
                const newUser = {
                    id: Date.now(),
                    firstName: firstName,
                    lastName: lastName,
                    email: email,
                    password: password,
                    phone: '',
                    address: '',
                    registrationDate: new Date().toISOString()
                };
                
                // Добавляем пользователя в список
                users.push(newUser);
                localStorage.setItem('users', JSON.stringify(users));
                
                // Автоматически входим под новым пользователем
                localStorage.setItem('currentUser', JSON.stringify(newUser));
                
                alert('Регистрация прошла успешно! Добро пожаловать в Витрину моды!');
                closeModal('registerModal');
                checkAuthStatus();
            });
        }

        // Выход из системы
        function logout() {
            localStorage.removeItem('currentUser');
            closeModal('profileModal');
            checkAuthStatus();
            showMainPage();
        }

        // Создание администратора при первом запуске
        function createAdminUser() {
            const users = JSON.parse(localStorage.getItem('users')) || [];
            
            // Проверяем, есть ли уже администратор
            const adminExists = users.some(user => user.email === 'artem@gmail.com');
            
            if (!adminExists) {
                const adminUser = {
                    id: Date.now(),
                    firstName: 'Администратор',
                    lastName: 'Магазина',
                    email: 'artem@mail.ru',
                    password: '12345',
                    phone: '',
                    address: '',
                    registrationDate: new Date().toISOString(),
                    isAdmin: true
                };
                
                users.push(adminUser);
                localStorage.setItem('users', JSON.stringify(users));
                console.log('Администратор создан: artem@mail.ru / 12345');
            }
        }

        // Инициализация при загрузке страницы
        document.addEventListener('DOMContentLoaded', function() {
            // Создаем администратора при первой загрузке
            createAdminUser();
            
            // Загружаем состояния товаров
            loadProductStocks();
            
            checkAuthStatus();
            initLoginPage();
            initRegisterPage();
            initCartPage();
            updateDeliveryDates();
            updateAllProductCards();
            
            // Инициализируем первую страницу
            changePage(1);
            
            // Предотвращаем автозаполнение поля поиска
            const searchInput = document.getElementById('searchInput');
            if (searchInput) {
                // Очищаем поле при фокусе, если там email
                searchInput.addEventListener('focus', function() {
                    if (this.value && this.value.includes('@')) {
                        this.value = '';
                    }
                });
                
                // Дополнительная защита от автозаполнения
                setTimeout(() => {
                    if (searchInput.value && searchInput.value.includes('@')) {
                        searchInput.value = '';
                    }
                }, 100);
            }
            
            // Закрытие модальных окон при клике вне их
            window.addEventListener('click', function(event) {
                document.querySelectorAll('.modal').forEach(modal => {
                    if (event.target === modal) {
                        closeModal(modal.id);
                    }
                });
            });
        });
    </script>
</body>

</html>


